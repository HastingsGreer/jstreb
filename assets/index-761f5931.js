(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},zr.apply(this,arguments)}var hn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function ve(e){return typeof e=="number"}function _e(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function vn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Dn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function pn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function We(e){return typeof e=="string"}var De=Array.isArray;function ge(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Cr(e){return Array.isArray(e)||ge(e)}function Lu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Zu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Vu(e){return e&&e.constructor.prototype.isRange===!0||!1}function gt(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Hu(e){return typeof e=="boolean"}function Ju(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Wu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Yu(e){return typeof e=="function"}function Gu(e){return e instanceof Date}function Xu(e){return e instanceof RegExp}function dn(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!vn(e)&&!Dn(e))}function Ku(e){return e===null}function Qu(e){return e===void 0}function ju(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ku(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ei(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function ri(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ti(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ni(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function ui(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function ii(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function ai(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function oi(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function si(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function fi(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ci(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function li(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function hi(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function vi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.constructor.prototype.isChain===!0||!1}function nr(e){var r=typeof e;return r==="object"?e===null?"null":_e(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function he(e){var r=typeof e;if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return he(n)});if(e instanceof Date)return new Date(e.valueOf());if(_e(e))return e;if(dn(e))return pi(e,he);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function pi(e,r){var n={};for(var u in e)_r(e,u)&&(n[u]=r(e[u]));return n}function gn(e,r){for(var n in r)_r(r,n)&&(e[n]=r[n]);return e}function pr(e,r){var n,u,t;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(u=0,t=e.length;u<t;u++)if(!pr(e[u],r[u]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!(n in r)||!pr(e[n],r[n]))return!1;for(n in r)if(!(n in e))return!1;return!0}else return e===r}}function _r(e,r){return e&&Object.hasOwnProperty.call(e,r)}function di(e,r){for(var n={},u=0;u<r.length;u++){var t=r[u],i=e[t];i!==void 0&&(n[t]=i)}return n}var gi=["Matrix","Array"],mi=["number","BigNumber","Fraction"],ir=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(hn)};zr(ir,hn,{MATRIX_OPTIONS:gi,NUMBER_OPTIONS:mi});function Mt(){return!0}function Ue(){return!1}function hr(){}const Nt="Argument is not a typed-function.";function mn(){function e(y){return typeof y=="object"&&y!==null&&y.constructor===Object}const r=[{name:"number",test:function(y){return typeof y=="number"}},{name:"string",test:function(y){return typeof y=="string"}},{name:"boolean",test:function(y){return typeof y=="boolean"}},{name:"Function",test:function(y){return typeof y=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(y){return y instanceof Date}},{name:"RegExp",test:function(y){return y instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(y){return y===null}},{name:"undefined",test:function(y){return y===void 0}}],n={name:"any",test:Mt,isAny:!0};let u,t,i=0,s={createCount:0};function l(y){const B=u.get(y);if(B)return B;let x='Unknown type "'+y+'"';const O=y.toLowerCase();let $;for($ of t)if($.toLowerCase()===O){x+='. Did you mean "'+$+'" ?';break}throw new TypeError(x)}function h(y){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const x=B?l(B).index:t.length,O=[];for(let I=0;I<y.length;++I){if(!y[I]||typeof y[I].name!="string"||typeof y[I].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Z=y[I].name;if(u.has(Z))throw new TypeError('Duplicate type name "'+Z+'"');O.push(Z),u.set(Z,{name:Z,test:y[I].test,isAny:y[I].isAny,index:x+I,conversionsTo:[]})}const $=t.slice(x);t=t.slice(0,x).concat(O).concat($);for(let I=x+O.length;I<t.length;++I)u.get(t[I]).index=I}function v(){u=new Map,t=[],i=0,h([n],!1)}v(),h(r);function o(){let y;for(y of t)u.get(y).conversionsTo=[];i=0}function a(y){const B=t.filter(x=>{const O=u.get(x);return!O.isAny&&O.test(y)});return B.length?B:["any"]}function f(y){return y&&typeof y=="function"&&"_typedFunctionData"in y}function D(y,B,x){if(!f(y))throw new TypeError(Nt);const O=x&&x.exact,$=Array.isArray(B)?B.join(","):B,I=E($),Z=g(I);if(!O||Z in y.signatures){const ae=y._typedFunctionData.signatureMap.get(Z);if(ae)return ae}const U=I.length;let V;if(O){V=[];let ae;for(ae in y.signatures)V.push(y._typedFunctionData.signatureMap.get(ae))}else V=y._typedFunctionData.signatures;for(let ae=0;ae<U;++ae){const ce=I[ae],Fe=[];let ze;for(ze of V){const Te=_(ze.params,ae);if(!(!Te||ce.restParam&&!Te.restParam)){if(!Te.hasAny){const Le=d(Te);if(ce.types.some(Ze=>!Le.has(Ze.name)))continue}Fe.push(ze)}}if(V=Fe,V.length===0)break}let R;for(R of V)if(R.params.length<=U)return R;throw new TypeError("Signature not found (signature: "+(y.name||"unnamed")+"("+g(I,", ")+"))")}function w(y,B,x){return D(y,B,x).implementation}function c(y,B){const x=l(B);if(x.test(y))return y;const O=x.conversionsTo;if(O.length===0)throw new Error("There are no conversions to "+B+" defined.");for(let $=0;$<O.length;$++)if(l(O[$].from).test(y))return O[$].convert(y);throw new Error("Cannot convert "+y+" to "+B)}function g(y){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return y.map(x=>x.name).join(B)}function p(y){const B=y.indexOf("...")===0,O=(B?y.length>3?y.slice(3):"any":y).split("|").map(U=>l(U.trim()));let $=!1,I=B?"...":"";return{types:O.map(function(U){return $=U.isAny||$,I+=U.name+"|",{name:U.name,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:null,conversionIndex:-1}}),name:I.slice(0,-1),hasAny:$,hasConversion:!1,restParam:B}}function m(y){const B=y.types.map(Z=>Z.name),x=W(B);let O=y.hasAny,$=y.name;const I=x.map(function(Z){const U=l(Z.from);return O=U.isAny||O,$+="|"+Z.from,{name:Z.from,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:Z,conversionIndex:Z.index}});return{types:y.types.concat(I),name:$,hasAny:O,hasConversion:I.length>0,restParam:y.restParam}}function d(y){return y.typeSet||(y.typeSet=new Set,y.types.forEach(B=>y.typeSet.add(B.name))),y.typeSet}function E(y){const B=[];if(typeof y!="string")throw new TypeError("Signatures must be strings");const x=y.trim();if(x==="")return B;const O=x.split(",");for(let $=0;$<O.length;++$){const I=p(O[$].trim());if(I.restParam&&$!==O.length-1)throw new SyntaxError('Unexpected rest parameter "'+O[$]+'": only allowed for the last parameter');if(I.types.length===0)return null;B.push(I)}return B}function A(y){const B=oe(y);return B?B.restParam:!1}function F(y){if(!y||y.types.length===0)return Mt;if(y.types.length===1)return l(y.types[0].name).test;if(y.types.length===2){const B=l(y.types[0].name).test,x=l(y.types[1].name).test;return function($){return B($)||x($)}}else{const B=y.types.map(function(x){return l(x.name).test});return function(O){for(let $=0;$<B.length;$++)if(B[$](O))return!0;return!1}}}function C(y){let B,x,O;if(A(y)){B=xe(y).map(F);const $=B.length,I=F(oe(y)),Z=function(U){for(let V=$;V<U.length;V++)if(!I(U[V]))return!1;return!0};return function(V){for(let R=0;R<B.length;R++)if(!B[R](V[R]))return!1;return Z(V)&&V.length>=$+1}}else return y.length===0?function(I){return I.length===0}:y.length===1?(x=F(y[0]),function(I){return x(I[0])&&I.length===1}):y.length===2?(x=F(y[0]),O=F(y[1]),function(I){return x(I[0])&&O(I[1])&&I.length===2}):(B=y.map(F),function(I){for(let Z=0;Z<B.length;Z++)if(!B[Z](I[Z]))return!1;return I.length===B.length})}function _(y,B){return B<y.length?y[B]:A(y)?oe(y):null}function M(y,B){const x=_(y,B);return x?d(x):new Set}function b(y){return y.conversion===null||y.conversion===void 0}function N(y,B){const x=new Set;return y.forEach(O=>{const $=M(O.params,B);let I;for(I of $)x.add(I)}),x.has("any")?["any"]:Array.from(x)}function S(y,B,x){let O,$;const I=y||"unnamed";let Z=x,U;for(U=0;U<B.length;U++){const ce=[];if(Z.forEach(Fe=>{const ze=_(Fe.params,U),Te=F(ze);(U<Fe.params.length||A(Fe.params))&&Te(B[U])&&ce.push(Fe)}),ce.length===0){if($=N(Z,U),$.length>0){const Fe=a(B[U]);return O=new TypeError("Unexpected type of argument in function "+I+" (expected: "+$.join(" or ")+", actual: "+Fe.join(" | ")+", index: "+U+")"),O.data={category:"wrongType",fn:I,index:U,actual:Fe,expected:$},O}}else Z=ce}const V=Z.map(function(ce){return A(ce.params)?1/0:ce.params.length});if(B.length<Math.min.apply(null,V))return $=N(Z,U),O=new TypeError("Too few arguments in function "+I+" (expected: "+$.join(" or ")+", index: "+B.length+")"),O.data={category:"tooFewArgs",fn:I,index:B.length,expected:$},O;const R=Math.max.apply(null,V);if(B.length>R)return O=new TypeError("Too many arguments in function "+I+" (expected: "+R+", actual: "+B.length+")"),O.data={category:"tooManyArgs",fn:I,index:B.length,expectedLength:R},O;const ae=[];for(let ce=0;ce<B.length;++ce)ae.push(a(B[ce]).join("|"));return O=new TypeError('Arguments of type "'+ae.join(", ")+'" do not match any of the defined signatures of function '+I+"."),O.data={category:"mismatch",actual:ae},O}function L(y){let B=t.length+1;for(let x=0;x<y.types.length;x++)b(y.types[x])&&(B=Math.min(B,y.types[x].typeIndex));return B}function z(y){let B=i+1;for(let x=0;x<y.types.length;x++)b(y.types[x])||(B=Math.min(B,y.types[x].conversionIndex));return B}function q(y,B){if(y.hasAny){if(!B.hasAny)return 1}else if(B.hasAny)return-1;if(y.restParam){if(!B.restParam)return 1}else if(B.restParam)return-1;if(y.hasConversion){if(!B.hasConversion)return 1}else if(B.hasConversion)return-1;const x=L(y)-L(B);if(x<0)return-1;if(x>0)return 1;const O=z(y)-z(B);return O<0?-1:O>0?1:0}function T(y,B){const x=y.params,O=B.params,$=oe(x),I=oe(O),Z=A(x),U=A(O);if(Z&&$.hasAny){if(!U||!I.hasAny)return 1}else if(U&&I.hasAny)return-1;let V=0,R=0,ae;for(ae of x)ae.hasAny&&++V,ae.hasConversion&&++R;let ce=0,Fe=0;for(ae of O)ae.hasAny&&++ce,ae.hasConversion&&++Fe;if(V!==ce)return V-ce;if(Z&&$.hasConversion){if(!U||!I.hasConversion)return 1}else if(U&&I.hasConversion)return-1;if(R!==Fe)return R-Fe;if(Z){if(!U)return 1}else if(U)return-1;const ze=(x.length-O.length)*(Z?-1:1);if(ze!==0)return ze;const Te=[];let Le=0;for(let lr=0;lr<x.length;++lr){const Nr=q(x[lr],O[lr]);Te.push(Nr),Le+=Nr}if(Le!==0)return Le;let Ze;for(Ze of Te)if(Ze!==0)return Ze;return 0}function W(y){if(y.length===0)return[];const B=y.map(l);y.length>1&&B.sort(($,I)=>$.index-I.index);let x=B[0].conversionsTo;if(y.length===1)return x;x=x.concat([]);const O=new Set(y);for(let $=1;$<B.length;++$){let I;for(I of B[$].conversionsTo)O.has(I.from)||(x.push(I),O.add(I.from))}return x}function H(y,B){let x=B;if(y.some($=>$.hasConversion)){const $=A(y),I=y.map(J);x=function(){const U=[],V=$?arguments.length-1:arguments.length;for(let R=0;R<V;R++)U[R]=I[R](arguments[R]);return $&&(U[V]=arguments[V].map(I[V])),B.apply(this,U)}}let O=x;if(A(y)){const $=y.length-1;O=function(){return x.apply(this,ie(arguments,0,$).concat([ie(arguments,$)]))}}return O}function J(y){let B,x,O,$;const I=[],Z=[];switch(y.types.forEach(function(U){U.conversion&&(I.push(l(U.conversion.from).test),Z.push(U.conversion.convert))}),Z.length){case 0:return function(V){return V};case 1:return B=I[0],O=Z[0],function(V){return B(V)?O(V):V};case 2:return B=I[0],x=I[1],O=Z[0],$=Z[1],function(V){return B(V)?O(V):x(V)?$(V):V};default:return function(V){for(let R=0;R<Z.length;R++)if(I[R](V))return Z[R](V);return V}}}function K(y){function B(x,O,$){if(O<x.length){const I=x[O];let Z=[];if(I.restParam){const U=I.types.filter(b);U.length<I.types.length&&Z.push({types:U,name:"..."+U.map(V=>V.name).join("|"),hasAny:U.some(V=>V.isAny),hasConversion:!1,restParam:!0}),Z.push(I)}else Z=I.types.map(function(U){return{types:[U],name:U.name,hasAny:U.isAny,hasConversion:U.conversion,restParam:!1}});return Be(Z,function(U){return B(x,O+1,$.concat([U]))})}else return[$]}return B(y,0,[])}function ne(y,B){const x=Math.max(y.length,B.length);for(let U=0;U<x;U++){const V=M(y,U),R=M(B,U);let ae=!1,ce;for(ce of R)if(V.has(ce)){ae=!0;break}if(!ae)return!1}const O=y.length,$=B.length,I=A(y),Z=A(B);return I?Z?O===$:$>=O:Z?O>=$:O===$}function ee(y){return y.map(B=>Xe(B)?Re(B.referToSelf.callback):Ge(B)?Ce(B.referTo.references,B.referTo.callback):B)}function j(y,B,x){const O=[];let $;for($ of y){let I=x[$];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+$+'"');if(I=B[I],typeof I!="function")return!1;O.push(I)}return O}function Ae(y,B,x){const O=ee(y),$=new Array(O.length).fill(!1);let I=!0;for(;I;){I=!1;let Z=!0;for(let U=0;U<O.length;++U){if($[U])continue;const V=O[U];if(Xe(V))O[U]=V.referToSelf.callback(x),O[U].referToSelf=V.referToSelf,$[U]=!0,Z=!1;else if(Ge(V)){const R=j(V.referTo.references,O,B);R?(O[U]=V.referTo.callback.apply(this,R),O[U].referTo=V.referTo,$[U]=!0,Z=!1):I=!0}}if(Z&&I)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return O}function me(y){const B=/\bthis(\(|\.signatures\b)/;Object.keys(y).forEach(x=>{const O=y[x];if(B.test(O.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ee(y,B){if(s.createCount++,Object.keys(B).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&me(B);const x=[],O=[],$={},I=[];let Z;for(Z in B){if(!Object.prototype.hasOwnProperty.call(B,Z))continue;const ue=E(Z);if(!ue)continue;x.forEach(function(yr){if(ne(yr,ue))throw new TypeError('Conflicting signatures "'+g(yr)+'" and "'+g(ue)+'".')}),x.push(ue);const Oe=O.length;O.push(B[Z]);const Ru=ue.map(m);let Sr;for(Sr of K(Ru)){const yr=g(Sr);I.push({params:Sr,name:yr,fn:Oe}),Sr.every(Uu=>!Uu.hasConversion)&&($[yr]=Oe)}}I.sort(T);const U=Ae(O,$,Er);let V;for(V in $)Object.prototype.hasOwnProperty.call($,V)&&($[V]=U[$[V]]);const R=[],ae=new Map;for(V of I)ae.has(V.name)||(V.fn=U[V.fn],R.push(V),ae.set(V.name,V));const ce=R[0]&&R[0].params.length<=2&&!A(R[0].params),Fe=R[1]&&R[1].params.length<=2&&!A(R[1].params),ze=R[2]&&R[2].params.length<=2&&!A(R[2].params),Te=R[3]&&R[3].params.length<=2&&!A(R[3].params),Le=R[4]&&R[4].params.length<=2&&!A(R[4].params),Ze=R[5]&&R[5].params.length<=2&&!A(R[5].params),lr=ce&&Fe&&ze&&Te&&Le&&Ze;for(let ue=0;ue<R.length;++ue)R[ue].test=C(R[ue].params);const Nr=ce?F(R[0].params[0]):Ue,lu=Fe?F(R[1].params[0]):Ue,hu=ze?F(R[2].params[0]):Ue,vu=Te?F(R[3].params[0]):Ue,Du=Le?F(R[4].params[0]):Ue,pu=Ze?F(R[5].params[0]):Ue,du=ce?F(R[0].params[1]):Ue,gu=Fe?F(R[1].params[1]):Ue,mu=ze?F(R[2].params[1]):Ue,wu=Te?F(R[3].params[1]):Ue,Au=Le?F(R[4].params[1]):Ue,Fu=Ze?F(R[5].params[1]):Ue;for(let ue=0;ue<R.length;++ue)R[ue].implementation=H(R[ue].params,R[ue].fn);const Eu=ce?R[0].implementation:hr,yu=Fe?R[1].implementation:hr,Cu=ze?R[2].implementation:hr,_u=Te?R[3].implementation:hr,Bu=Le?R[4].implementation:hr,Mu=Ze?R[5].implementation:hr,Nu=ce?R[0].params.length:-1,Su=Fe?R[1].params.length:-1,bu=ze?R[2].params.length:-1,xu=Te?R[3].params.length:-1,Tu=Le?R[4].params.length:-1,zu=Ze?R[5].params.length:-1,Ou=lr?6:0,Iu=R.length,Pu=R.map(ue=>ue.test),$u=R.map(ue=>ue.implementation),qu=function(){for(let Oe=Ou;Oe<Iu;Oe++)if(Pu[Oe](arguments))return $u[Oe].apply(this,arguments);return s.onMismatch(y,arguments,R)};function Er(ue,Oe){return arguments.length===Nu&&Nr(ue)&&du(Oe)?Eu.apply(this,arguments):arguments.length===Su&&lu(ue)&&gu(Oe)?yu.apply(this,arguments):arguments.length===bu&&hu(ue)&&mu(Oe)?Cu.apply(this,arguments):arguments.length===xu&&vu(ue)&&wu(Oe)?_u.apply(this,arguments):arguments.length===Tu&&Du(ue)&&Au(Oe)?Bu.apply(this,arguments):arguments.length===zu&&pu(ue)&&Fu(Oe)?Mu.apply(this,arguments):qu.apply(this,arguments)}try{Object.defineProperty(Er,"name",{value:y})}catch{}return Er.signatures=$,Er._typedFunctionData={signatures:R,signatureMap:ae},Er}function le(y,B,x){throw S(y,B,x)}function xe(y){return ie(y,0,y.length-1)}function oe(y){return y[y.length-1]}function ie(y,B,x){return Array.prototype.slice.call(y,B,x)}function qe(y,B){for(let x=0;x<y.length;x++)if(B(y[x]))return y[x]}function Be(y,B){return Array.prototype.concat.apply([],y.map(B))}function se(){const y=xe(arguments).map(x=>g(E(x))),B=oe(arguments);if(typeof B!="function")throw new TypeError("Callback function expected as last argument");return Ce(y,B)}function Ce(y,B){return{referTo:{references:y,callback:B}}}function Re(y){if(typeof y!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:y}}}function Ge(y){return y&&typeof y.referTo=="object"&&Array.isArray(y.referTo.references)&&typeof y.referTo.callback=="function"}function Xe(y){return y&&typeof y.referToSelf=="object"&&typeof y.referToSelf.callback=="function"}function fr(y,B){if(!y)return B;if(B&&B!==y){const x=new Error("Function names do not match (expected: "+y+", actual: "+B+")");throw x.data={actual:B,expected:y},x}return y}function cr(y){let B;for(const x in y)Object.prototype.hasOwnProperty.call(y,x)&&(f(y[x])||typeof y[x].signature=="string")&&(B=fr(B,y[x].name));return B}function rt(y,B){let x;for(x in B)if(Object.prototype.hasOwnProperty.call(B,x)){if(x in y&&B[x]!==y[x]){const O=new Error('Signature "'+x+'" is defined twice');throw O.data={signature:x,sourceFunction:B[x],destFunction:y[x]},O}y[x]=B[x]}}const cu=s;s=function(y){const B=typeof y=="string",x=B?1:0;let O=B?y:"";const $={};for(let I=x;I<arguments.length;++I){const Z=arguments[I];let U={},V;if(typeof Z=="function"?(V=Z.name,typeof Z.signature=="string"?U[Z.signature]=Z:f(Z)&&(U=Z.signatures)):e(Z)&&(U=Z,B||(V=cr(Z))),Object.keys(U).length===0){const R=new TypeError("Argument to 'typed' at index "+I+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw R.data={index:I,argument:Z},R}B||(O=fr(O,V)),rt($,U)}return Ee(O||"",$)},s.create=mn,s.createCount=cu.createCount,s.onMismatch=le,s.throwMismatchError=le,s.createError=S,s.clear=v,s.clearConversions=o,s.addTypes=h,s._findType=l,s.referTo=se,s.referToSelf=Re,s.convert=c,s.findSignature=D,s.find=w,s.isTypedFunction=f,s.warnAgainstDeprecatedThis=!0,s.addType=function(y,B){let x="any";B!==!1&&u.has("Object")&&(x="Object"),s.addTypes([y],x)};function Bt(y){if(!y||typeof y.from!="string"||typeof y.to!="string"||typeof y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(y.to===y.from)throw new SyntaxError('Illegal to define conversion from "'+y.from+'" to itself.')}return s.addConversion=function(y){Bt(y);const B=l(y.to);if(B.conversionsTo.every(function(x){return x.from!==y.from}))B.conversionsTo.push({from:y.from,convert:y.convert,index:i++});else throw new Error('There is already a conversion from "'+y.from+'" to "'+B.name+'"')},s.addConversions=function(y){y.forEach(s.addConversion)},s.removeConversion=function(y){Bt(y);const B=l(y.to),x=qe(B.conversionsTo,$=>$.from===y.from);if(!x)throw new Error("Attempt to remove nonexistent conversion from "+y.from+" to "+y.to);if(x.convert!==y.convert)throw new Error("Conversion to remove does not match existing conversion");const O=B.conversionsTo.indexOf(x);B.conversionsTo.splice(O,1)},s.resolve=function(y,B){if(!f(y))throw new TypeError(Nt);const x=y._typedFunctionData.signatures;for(let O=0;O<x.length;++O)if(x[O].test(B))return x[O];return null},s}const St=mn();function we(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function tt(e,r,n){var u={2:"0b",8:"0o",16:"0x"},t=u[r],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!we(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!we(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),i="i".concat(n)}var s="";return e<0&&(e=-e,s="-"),"".concat(s).concat(t).concat(e.toString(r)).concat(i)}function at(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",u,t;if(r&&(r.notation&&(n=r.notation),ve(r)?u=r:ve(r.precision)&&(u=r.precision),r.wordSize&&(t=r.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Ai(e,u);case"exponential":return wn(e,u);case"engineering":return wi(e,u);case"bin":return tt(e,2,t);case"oct":return tt(e,8,t);case"hex":return tt(e,16,t);case"auto":return Fi(e,u,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],s=arguments[4];return i!=="."?i+s:s});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Jr(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var n=r[1],u=r[2],t=parseFloat(r[4]||"0"),i=u.indexOf(".");t+=i!==-1?i-1:u.length-1;var s=u.replace(".","").replace(/^0*/,function(l){return t-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return s.length===0&&(s.push(0),t++),{sign:n,coefficients:s,exponent:t}}function wi(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Jr(e),u=Wr(n,r),t=u.exponent,i=u.coefficients,s=t%3===0?t:t<0?t-3-t%3:t-t%3;if(ve(r))for(;r>i.length||t-s+1>i.length;)i.push(0);else for(var l=Math.abs(t-s)-(i.length-1),h=0;h<l;h++)i.push(0);for(var v=Math.abs(t-s),o=1;v>0;)o++,v--;var a=i.slice(o).join(""),f=ve(r)&&a.length||a.match(/[1-9]/)?"."+a:"",D=i.slice(0,o).join("")+f+"e"+(t>=0?"+":"")+s.toString();return u.sign+D}function Ai(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Jr(e),u=typeof r=="number"?Wr(n,n.exponent+1+r):n,t=u.coefficients,i=u.exponent+1,s=i+(r||0);return t.length<s&&(t=t.concat(Dr(s-t.length))),i<0&&(t=Dr(-i+1).concat(t),i=1),i<t.length&&t.splice(i,0,i===0?"0.":"."),u.sign+t.join("")}function wn(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Jr(e),u=r?Wr(n,r):n,t=u.coefficients,i=u.exponent;t.length<r&&(t=t.concat(Dr(r-t.length)));var s=t.shift();return u.sign+s+(t.length>0?"."+t.join(""):"")+"e"+(i>=0?"+":"")+i}function Fi(e,r,n){if(isNaN(e)||!isFinite(e))return String(e);var u=n&&n.lowerExp!==void 0?n.lowerExp:-3,t=n&&n.upperExp!==void 0?n.upperExp:5,i=Jr(e),s=r?Wr(i,r):i;if(s.exponent<u||s.exponent>=t)return wn(e,r);var l=s.coefficients,h=s.exponent;l.length<r&&(l=l.concat(Dr(r-l.length))),l=l.concat(Dr(h-l.length+1+(l.length<r?r-l.length:0))),l=Dr(-h).concat(l);var v=h>0?h:0;return v<l.length-1&&l.splice(v+1,0,"."),s.sign+l.join("")}function Wr(e,r){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},u=n.coefficients;r<=0;)u.unshift(0),n.exponent++,r++;if(u.length>r){var t=u.splice(r,u.length-r);if(t[0]>=5){var i=r-1;for(u[i]++;u[i]===10;)u.pop(),i===0&&(u.unshift(0),n.exponent++,i++),i--,u[i]++}}return n}function Dr(e){for(var r=[],n=0;n<e;n++)r.push(0);return r}function Ei(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var yi=Number.EPSILON||2220446049250313e-31;function Or(e,r,n){if(n==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var u=Math.abs(e-r);return u<=yi?!0:u<=Math.max(Math.abs(e),Math.abs(r))*n}return!1}function nt(e,r,n){var u=e.constructor,t=new u(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!we(n))throw new Error("size must be an integer");if(e.greaterThan(t.pow(n-1).sub(1))||e.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(t.pow(n))),i="i".concat(n)}switch(r){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(r," not supported "))}}function Ci(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",u,t;if(r!==void 0&&(r.notation&&(n=r.notation),typeof r=="number"?u=r:r.precision!==void 0&&(u=r.precision),r.wordSize&&(t=r.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Bi(e,u);case"exponential":return bt(e,u);case"engineering":return _i(e,u);case"bin":return nt(e,2,t);case"oct":return nt(e,8,t);case"hex":return nt(e,16,t);case"auto":{var i=r&&r.lowerExp!==void 0?r.lowerExp:-3,s=r&&r.upperExp!==void 0?r.upperExp:5;if(e.isZero())return"0";var l,h=e.toSignificantDigits(u),v=h.e;return v>=i&&v<s?l=h.toFixed():l=bt(e,u),l.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function _i(e,r){var n=e.e,u=n%3===0?n:n<0?n-3-n%3:n-n%3,t=e.mul(Math.pow(10,-u)),i=t.toPrecision(r);if(i.indexOf("e")!==-1){var s=e.constructor;i=new s(i).toFixed()}return i+"e"+(n>=0?"+":"")+u.toString()}function bt(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Bi(e,r){return e.toFixed(r)}function de(e,r){var n=Mi(e,r);return r&&typeof r=="object"&&"truncate"in r&&n.length>r.truncate?n.substring(0,r.truncate-3)+"...":n}function Mi(e,r){if(typeof e=="number")return at(e,r);if(_e(e))return Ci(e,r);if(Ni(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return An(e,r);if(We(e))return xt(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var n=Object.keys(e).map(u=>xt(u)+": "+de(e[u],r));return"{"+n.join(", ")+"}"}return String(e)}function xt(e){for(var r=String(e),n="",u=0;u<r.length;){var t=r.charAt(u);n+=t in Tt?Tt[t]:t,u++}return'"'+n+'"'}var Tt={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function An(e,r){if(Array.isArray(e)){for(var n="[",u=e.length,t=0;t<u;t++)t!==0&&(n+=", "),n+=An(e[t],r);return n+="]",n}else return de(e,r)}function Ni(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function k(e,r,n){if(!(this instanceof k))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}k.prototype=new RangeError;k.prototype.constructor=RangeError;k.prototype.name="DimensionError";k.prototype.isDimensionError=!0;function ar(e,r,n){if(!(this instanceof ar))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ar.prototype=new RangeError;ar.prototype.constructor=RangeError;ar.prototype.name="IndexError";ar.prototype.isIndexError=!0;function Ie(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function Fn(e,r,n){var u,t=e.length;if(t!==r[n])throw new k(t,r[n]);if(n<r.length-1){var i=n+1;for(u=0;u<t;u++){var s=e[u];if(!Array.isArray(s))throw new k(r.length-1,r.length,"<");Fn(e[u],r,i)}}else for(u=0;u<t;u++)if(Array.isArray(e[u]))throw new k(r.length+1,r.length,">")}function zt(e,r){var n=r.length===0;if(n){if(Array.isArray(e))throw new k(e.length,0)}else Fn(e,r,0)}function pe(e,r){if(e!==void 0){if(!ve(e)||!we(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new ar(e,r)}}function Ir(e,r,n){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(t){if(!ve(t)||!we(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+de(r)+")")}),(ve(e)||_e(e))&&(e=[e]);var u=n!==void 0?n:0;return ot(e,r,0,u),e}function ot(e,r,n,u){var t,i,s=e.length,l=r[n],h=Math.min(s,l);if(e.length=l,n<r.length-1){var v=n+1;for(t=0;t<h;t++)i=e[t],Array.isArray(i)||(i=[i],e[t]=i),ot(i,r,v,u);for(t=h;t<l;t++)i=[],e[t]=i,ot(i,r,v,u)}else{for(t=0;t<h;t++)for(;Array.isArray(e[t]);)e[t]=e[t][0];for(t=h;t<l;t++)e[t]=u}}function En(e,r){var n=bi(e),u=n.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new k(0,u,"!=");r=mt(r,u);var t=yn(r);if(u!==t)throw new k(t,u,"!=");try{return Si(n,r)}catch(i){throw i instanceof k?new k(t,u,"!="):i}}function mt(e,r){var n=yn(e),u=e.slice(),t=-1,i=e.indexOf(t),s=e.indexOf(t,i+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var l=i>=0,h=r%n===0;if(l)if(h)u[i]=-r/n;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-n);return u}function yn(e){return e.reduce((r,n)=>r*n,1)}function Si(e,r){for(var n=e,u,t=r.length-1;t>0;t--){var i=r[t];u=[];for(var s=n.length/i,l=0;l<s;l++)u.push(n.slice(l*i,(l+1)*i));n=u}return n}function Cn(e,r,n,u){var t=u||Ie(e);if(n)for(var i=0;i<n;i++)e=[e],t.unshift(1);for(e=_n(e,r,0);t.length<r;)t.push(1);return e}function _n(e,r,n){var u,t;if(Array.isArray(e)){var i=n+1;for(u=0,t=e.length;u<t;u++)e[u]=_n(e[u],r,i)}else for(var s=n;s<r;s++)e=[e];return e}function bi(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function n(u){Array.isArray(u)?u.forEach(n):r.push(u)}),r}function Pr(e,r){for(var n,u=0,t=0;t<e.length;t++){var i=e[t],s=Array.isArray(i);if(t===0&&s&&(u=i.length),s&&i.length!==u)return;var l=s?Pr(i,r):r(i);if(n===void 0)n=l;else if(n!==l)return"mixed"}return n}function Bn(e,r,n,u){if(u<n){if(e.length!==r.length)throw new k(e.length,r.length);for(var t=[],i=0;i<e.length;i++)t[i]=Bn(e[i],r[i],n,u+1);return t}else return e.concat(r)}function Mn(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,u){return Bn(n,u,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function xi(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var u=r.map(f=>f.length),t=Math.max(...u),i=new Array(t).fill(null),s=0;s<r.length;s++)for(var l=r[s],h=u[s],v=0;v<h;v++){var o=t-h+v;l[v]>i[o]&&(i[o]=l[v])}for(var a=0;a<r.length;a++)$r(r[a],i);return i}function $r(e,r){for(var n=r.length,u=e.length,t=0;t<u;t++){var i=n-u+t;if(e[t]<r[i]&&e[t]>1||e[t]>r[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(u," with size ").concat(e[t]," to size ").concat(r[i]))}}function Ot(e,r){var n=Ie(e);if(pr(n,r))return e;$r(n,r);var u=xi(n,r),t=u.length,i=[...Array(t-n.length).fill(1),...n],s=zi(e);n.length<t&&(s=En(s,i),n=Ie(s));for(var l=0;l<t;l++)n[l]<u[l]&&(s=Ti(s,u[l],l),n=Ie(s));return s}function Ti(e,r,n){return Mn(...Array(r).fill(e),n)}function zi(e){return zr([],e)}function G(e,r,n,u){function t(i){var s=di(i,r.map(Pi));return Oi(e,r,i),n(s)}return t.isFactory=!0,t.fn=e,t.dependencies=r.slice().sort(),u&&(t.meta=u),t}function Oi(e,r,n){var u=r.filter(i=>!Ii(i)).every(i=>n[i]!==void 0);if(!u){var t=r.filter(i=>n[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Ii(e){return e&&e[0]==="?"}function Pi(e){return e&&e[0]==="?"?e.slice(1):e}function $i(e,r){if(Sn(e)&&Nn(e,r))return e[r];throw typeof e[r]=="function"&&Ui(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function qi(e,r,n){if(Sn(e)&&Nn(e,r))return e[r]=n,n;throw new Error('No access to property "'+r+'"')}function Ri(e,r){return r in e}function Nn(e,r){return!e||typeof e!="object"?!1:_r(Li,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Ui(e,r){return e==null||typeof e[r]!="function"||_r(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:_r(Zi,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Sn(e){return typeof e=="object"&&e&&e.constructor===Object}var Li={length:!0,name:!0},Zi={toString:!0,valueOf:!0,toLocaleString:!0};class Vi{constructor(r){this.wrappedObject=r}keys(){return Object.keys(this.wrappedObject)}get(r){return $i(this.wrappedObject,r)}set(r,n){return qi(this.wrappedObject,r,n),this}has(r){return Ri(this.wrappedObject,r)}}function Hi(e){return e?e instanceof Map||e instanceof Vi||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var bn=function(){return bn=St.create,St},Ji=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Wi=G("typed",Ji,function(r){var{BigNumber:n,Complex:u,DenseMatrix:t,Fraction:i}=r,s=bn();return s.clear(),s.addTypes([{name:"number",test:ve},{name:"Complex",test:vn},{name:"BigNumber",test:_e},{name:"Fraction",test:Dn},{name:"Unit",test:pn},{name:"identifier",test:l=>We&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:We},{name:"Chain",test:Di},{name:"Array",test:De},{name:"Matrix",test:ge},{name:"DenseMatrix",test:Lu},{name:"SparseMatrix",test:Zu},{name:"Range",test:Vu},{name:"Index",test:gt},{name:"boolean",test:Hu},{name:"ResultSet",test:Ju},{name:"Help",test:Wu},{name:"function",test:Yu},{name:"Date",test:Gu},{name:"RegExp",test:Xu},{name:"null",test:Ku},{name:"undefined",test:Qu},{name:"AccessorNode",test:ju},{name:"ArrayNode",test:ku},{name:"AssignmentNode",test:ei},{name:"BlockNode",test:ri},{name:"ConditionalNode",test:ti},{name:"ConstantNode",test:ni},{name:"FunctionNode",test:ii},{name:"FunctionAssignmentNode",test:ui},{name:"IndexNode",test:ai},{name:"Node",test:oi},{name:"ObjectNode",test:si},{name:"OperatorNode",test:fi},{name:"ParenthesisNode",test:ci},{name:"RangeNode",test:li},{name:"RelationalNode",test:hi},{name:"SymbolNode",test:vi},{name:"Map",test:Hi},{name:"Object",test:dn}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(h){if(n||ut(h),Ei(h)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+h+"). Use function bignumber(x) to convert to BigNumber.");return new n(h)}},{from:"number",to:"Complex",convert:function(h){return u||br(h),new u(h,0)}},{from:"BigNumber",to:"Complex",convert:function(h){return u||br(h),new u(h.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(h){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(h){return u||br(h),new u(h.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(h){i||it(h);var v=new i(h);if(v.valueOf()!==h)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+h+"). Use function fraction(x) to convert to Fraction.");return v}},{from:"string",to:"number",convert:function(h){var v=Number(h);if(isNaN(v))throw new Error('Cannot convert "'+h+'" to a number');return v}},{from:"string",to:"BigNumber",convert:function(h){n||ut(h);try{return new n(h)}catch{throw new Error('Cannot convert "'+h+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(h){i||it(h);try{return new i(h)}catch{throw new Error('Cannot convert "'+h+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(h){u||br(h);try{return new u(h)}catch{throw new Error('Cannot convert "'+h+'" to Complex')}}},{from:"boolean",to:"number",convert:function(h){return+h}},{from:"boolean",to:"BigNumber",convert:function(h){return n||ut(h),new n(+h)}},{from:"boolean",to:"Fraction",convert:function(h){return i||it(h),new i(+h)}},{from:"boolean",to:"string",convert:function(h){return String(h)}},{from:"Array",to:"Matrix",convert:function(h){return t||Yi(),new t(h)}},{from:"Matrix",to:"Array",convert:function(h){return h.valueOf()}}]),s.onMismatch=(l,h,v)=>{var o=s.createError(l,h,v);if(["wrongType","mismatch"].includes(o.data.category)&&h.length===1&&Cr(h[0])&&v.some(f=>!f.params.includes(","))){var a=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw a.data=o.data,a}throw o},s.onMismatch=(l,h,v)=>{var o=s.createError(l,h,v);if(["wrongType","mismatch"].includes(o.data.category)&&h.length===1&&Cr(h[0])&&v.some(f=>!f.params.includes(","))){var a=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw a.data=o.data,a}throw o},s});function ut(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function br(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Yi(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function it(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var vr=9e15,or=1e9,st="0123456789abcdef",qr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Rr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ft={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-vr,maxE:vr,crypto:!1},xn,je,Q=!0,Yr="[DecimalError] ",ur=Yr+"Invalid argument: ",Tn=Yr+"Precision limit exceeded",zn=Yr+"crypto unavailable",On="[object Decimal]",be=Math.floor,ye=Math.pow,Gi=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Xi=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ki=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,In=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Je=1e7,X=7,Qi=9007199254740991,ji=qr.length-1,ct=Rr.length-1,P={toStringTag:On};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Y(e)};P.ceil=function(){return Y(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(e,r){var n,u=this,t=u.constructor;if(e=new t(e),r=new t(r),!e.s||!r.s)return new t(NaN);if(e.gt(r))throw Error(ur+r);return n=u.cmp(e),n<0?e:u.cmp(r)>0?r:new t(u)};P.comparedTo=P.cmp=function(e){var r,n,u,t,i=this,s=i.d,l=(e=new i.constructor(e)).d,h=i.s,v=e.s;if(!s||!l)return!h||!v?NaN:h!==v?h:s===l?0:!s^h<0?1:-1;if(!s[0]||!l[0])return s[0]?h:l[0]?-v:0;if(h!==v)return h;if(i.e!==e.e)return i.e>e.e^h<0?1:-1;for(u=s.length,t=l.length,r=0,n=u<t?u:t;r<n;++r)if(s[r]!==l[r])return s[r]>l[r]^h<0?1:-1;return u===t?0:u>t^h<0?1:-1};P.cosine=P.cos=function(){var e,r,n=this,u=n.constructor;return n.d?n.d[0]?(e=u.precision,r=u.rounding,u.precision=e+Math.max(n.e,n.sd())+X,u.rounding=1,n=ki(u,Un(u,n)),u.precision=e,u.rounding=r,Y(je==2||je==3?n.neg():n,e,r,!0)):new u(1):new u(NaN)};P.cubeRoot=P.cbrt=function(){var e,r,n,u,t,i,s,l,h,v,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);for(Q=!1,i=o.s*ye(o.s*o,1/3),!i||Math.abs(i)==1/0?(n=Se(o.d),e=o.e,(i=(e-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=ye(n,1/3),e=be((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?n="5e"+e:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),u=new a(n),u.s=o.s):u=new a(i.toString()),s=(e=a.precision)+3;;)if(l=u,h=l.times(l).times(l),v=h.plus(o),u=fe(v.plus(o).times(l),v.plus(h),s+2,1),Se(l.d).slice(0,s)===(n=Se(u.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!t&&n=="4999"){if(!t&&(Y(l,e+1,0),l.times(l).times(l).eq(o))){u=l;break}s+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Y(u,e+1,1),r=!u.times(u).times(u).eq(o));break}return Q=!0,Y(u,e,a.rounding,r)};P.decimalPlaces=P.dp=function(){var e,r=this.d,n=NaN;if(r){if(e=r.length-1,n=(e-be(this.e/X))*X,e=r[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};P.dividedBy=P.div=function(e){return fe(this,new this.constructor(e))};P.dividedToIntegerBy=P.divToInt=function(e){var r=this,n=r.constructor;return Y(fe(r,new n(e),0,1,1),n.precision,n.rounding)};P.equals=P.eq=function(e){return this.cmp(e)===0};P.floor=function(){return Y(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){var r=this.cmp(e);return r==1||r===0};P.hyperbolicCosine=P.cosh=function(){var e,r,n,u,t,i=this,s=i.constructor,l=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return l;n=s.precision,u=s.rounding,s.precision=n+Math.max(i.e,i.sd())+4,s.rounding=1,t=i.d.length,t<32?(e=Math.ceil(t/3),r=(1/Xr(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),i=dr(s,1,i.times(r),new s(1),!0);for(var h,v=e,o=new s(8);v--;)h=i.times(i),i=l.minus(h.times(o.minus(h.times(o))));return Y(i,s.precision=n,s.rounding=u,!0)};P.hyperbolicSine=P.sinh=function(){var e,r,n,u,t=this,i=t.constructor;if(!t.isFinite()||t.isZero())return new i(t);if(r=i.precision,n=i.rounding,i.precision=r+Math.max(t.e,t.sd())+4,i.rounding=1,u=t.d.length,u<3)t=dr(i,2,t,t,!0);else{e=1.4*Math.sqrt(u),e=e>16?16:e|0,t=t.times(1/Xr(5,e)),t=dr(i,2,t,t,!0);for(var s,l=new i(5),h=new i(16),v=new i(20);e--;)s=t.times(t),t=t.times(l.plus(s.times(h.times(s).plus(v))))}return i.precision=r,i.rounding=n,Y(t,r,n,!0)};P.hyperbolicTangent=P.tanh=function(){var e,r,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(e=u.precision,r=u.rounding,u.precision=e+7,u.rounding=1,fe(n.sinh(),n.cosh(),u.precision=e,u.rounding=r)):new u(n.s)};P.inverseCosine=P.acos=function(){var e,r=this,n=r.constructor,u=r.abs().cmp(1),t=n.precision,i=n.rounding;return u!==-1?u===0?r.isNeg()?Ve(n,t,i):new n(0):new n(NaN):r.isZero()?Ve(n,t+4,i).times(.5):(n.precision=t+6,n.rounding=1,r=r.asin(),e=Ve(n,t+4,i).times(.5),n.precision=t,n.rounding=i,e.minus(r))};P.inverseHyperbolicCosine=P.acosh=function(){var e,r,n=this,u=n.constructor;return n.lte(1)?new u(n.eq(1)?0:NaN):n.isFinite()?(e=u.precision,r=u.rounding,u.precision=e+Math.max(Math.abs(n.e),n.sd())+4,u.rounding=1,Q=!1,n=n.times(n).minus(1).sqrt().plus(n),Q=!0,u.precision=e,u.rounding=r,n.ln()):new u(n)};P.inverseHyperbolicSine=P.asinh=function(){var e,r,n=this,u=n.constructor;return!n.isFinite()||n.isZero()?new u(n):(e=u.precision,r=u.rounding,u.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,u.rounding=1,Q=!1,n=n.times(n).plus(1).sqrt().plus(n),Q=!0,u.precision=e,u.rounding=r,n.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var e,r,n,u,t=this,i=t.constructor;return t.isFinite()?t.e>=0?new i(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(e=i.precision,r=i.rounding,u=t.sd(),Math.max(u,e)<2*-t.e-1?Y(new i(t),e,r,!0):(i.precision=n=u-t.e,t=fe(t.plus(1),new i(1).minus(t),n+e,1),i.precision=e+4,i.rounding=1,t=t.ln(),i.precision=e,i.rounding=r,t.times(.5))):new i(NaN)};P.inverseSine=P.asin=function(){var e,r,n,u,t=this,i=t.constructor;return t.isZero()?new i(t):(r=t.abs().cmp(1),n=i.precision,u=i.rounding,r!==-1?r===0?(e=Ve(i,n+4,u).times(.5),e.s=t.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,t=t.div(new i(1).minus(t.times(t)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=u,t.times(2)))};P.inverseTangent=P.atan=function(){var e,r,n,u,t,i,s,l,h,v=this,o=v.constructor,a=o.precision,f=o.rounding;if(v.isFinite()){if(v.isZero())return new o(v);if(v.abs().eq(1)&&a+4<=ct)return s=Ve(o,a+4,f).times(.25),s.s=v.s,s}else{if(!v.s)return new o(NaN);if(a+4<=ct)return s=Ve(o,a+4,f).times(.5),s.s=v.s,s}for(o.precision=l=a+10,o.rounding=1,n=Math.min(28,l/X+2|0),e=n;e;--e)v=v.div(v.times(v).plus(1).sqrt().plus(1));for(Q=!1,r=Math.ceil(l/X),u=1,h=v.times(v),s=new o(v),t=v;e!==-1;)if(t=t.times(h),i=s.minus(t.div(u+=2)),t=t.times(h),s=i.plus(t.div(u+=2)),s.d[r]!==void 0)for(e=r;s.d[e]===i.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),Q=!0,Y(s,o.precision=a,o.rounding=f,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&be(this.e/X)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var r,n,u,t,i,s,l,h,v=this,o=v.constructor,a=o.precision,f=o.rounding,D=5;if(e==null)e=new o(10),r=!0;else{if(e=new o(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new o(NaN);r=e.eq(10)}if(n=v.d,v.s<0||!n||!n[0]||v.eq(1))return new o(n&&!n[0]?-1/0:v.s!=1?NaN:n?0:1/0);if(r)if(n.length>1)i=!0;else{for(t=n[0];t%10===0;)t/=10;i=t!==1}if(Q=!1,l=a+D,s=tr(v,l),u=r?Ur(o,l+10):tr(e,l),h=fe(s,u,l,1),Br(h.d,t=a,f))do if(l+=10,s=tr(v,l),u=r?Ur(o,l+10):tr(e,l),h=fe(s,u,l,1),!i){+Se(h.d).slice(t+1,t+15)+1==1e14&&(h=Y(h,a+1,0));break}while(Br(h.d,t+=10,f));return Q=!0,Y(h,a,f)};P.minus=P.sub=function(e){var r,n,u,t,i,s,l,h,v,o,a,f,D=this,w=D.constructor;if(e=new w(e),!D.d||!e.d)return!D.s||!e.s?e=new w(NaN):D.d?e.s=-e.s:e=new w(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(v=D.d,f=e.d,l=w.precision,h=w.rounding,!v[0]||!f[0]){if(f[0])e.s=-e.s;else if(v[0])e=new w(D);else return new w(h===3?-0:0);return Q?Y(e,l,h):e}if(n=be(e.e/X),o=be(D.e/X),v=v.slice(),i=o-n,i){for(a=i<0,a?(r=v,i=-i,s=f.length):(r=f,n=o,s=v.length),u=Math.max(Math.ceil(l/X),s)+2,i>u&&(i=u,r.length=1),r.reverse(),u=i;u--;)r.push(0);r.reverse()}else{for(u=v.length,s=f.length,a=u<s,a&&(s=u),u=0;u<s;u++)if(v[u]!=f[u]){a=v[u]<f[u];break}i=0}for(a&&(r=v,v=f,f=r,e.s=-e.s),s=v.length,u=f.length-s;u>0;--u)v[s++]=0;for(u=f.length;u>i;){if(v[--u]<f[u]){for(t=u;t&&v[--t]===0;)v[t]=Je-1;--v[t],v[u]+=Je}v[u]-=f[u]}for(;v[--s]===0;)v.pop();for(;v[0]===0;v.shift())--n;return v[0]?(e.d=v,e.e=Gr(v,n),Q?Y(e,l,h):e):new w(h===3?-0:0)};P.modulo=P.mod=function(e){var r,n=this,u=n.constructor;return e=new u(e),!n.d||!e.s||e.d&&!e.d[0]?new u(NaN):!e.d||n.d&&!n.d[0]?Y(new u(n),u.precision,u.rounding):(Q=!1,u.modulo==9?(r=fe(n,e.abs(),0,3,1),r.s*=e.s):r=fe(n,e,0,u.modulo,1),r=r.times(e),Q=!0,n.minus(r))};P.naturalExponential=P.exp=function(){return lt(this)};P.naturalLogarithm=P.ln=function(){return tr(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Y(e)};P.plus=P.add=function(e){var r,n,u,t,i,s,l,h,v,o,a=this,f=a.constructor;if(e=new f(e),!a.d||!e.d)return!a.s||!e.s?e=new f(NaN):a.d||(e=new f(e.d||a.s===e.s?a:NaN)),e;if(a.s!=e.s)return e.s=-e.s,a.minus(e);if(v=a.d,o=e.d,l=f.precision,h=f.rounding,!v[0]||!o[0])return o[0]||(e=new f(a)),Q?Y(e,l,h):e;if(i=be(a.e/X),u=be(e.e/X),v=v.slice(),t=i-u,t){for(t<0?(n=v,t=-t,s=o.length):(n=o,u=i,s=v.length),i=Math.ceil(l/X),s=i>s?i+1:s+1,t>s&&(t=s,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(s=v.length,t=o.length,s-t<0&&(t=s,n=o,o=v,v=n),r=0;t;)r=(v[--t]=v[t]+o[t]+r)/Je|0,v[t]%=Je;for(r&&(v.unshift(r),++u),s=v.length;v[--s]==0;)v.pop();return e.d=v,e.e=Gr(v,u),Q?Y(e,l,h):e};P.precision=P.sd=function(e){var r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ur+e);return n.d?(r=Pn(n.d),e&&n.e+1>r&&(r=n.e+1)):r=NaN,r};P.round=function(){var e=this,r=e.constructor;return Y(new r(e),e.e+1,r.rounding)};P.sine=P.sin=function(){var e,r,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(e=u.precision,r=u.rounding,u.precision=e+Math.max(n.e,n.sd())+X,u.rounding=1,n=ra(u,Un(u,n)),u.precision=e,u.rounding=r,Y(je>2?n.neg():n,e,r,!0)):new u(NaN)};P.squareRoot=P.sqrt=function(){var e,r,n,u,t,i,s=this,l=s.d,h=s.e,v=s.s,o=s.constructor;if(v!==1||!l||!l[0])return new o(!v||v<0&&(!l||l[0])?NaN:l?s:1/0);for(Q=!1,v=Math.sqrt(+s),v==0||v==1/0?(r=Se(l),(r.length+h)%2==0&&(r+="0"),v=Math.sqrt(r),h=be((h+1)/2)-(h<0||h%2),v==1/0?r="5e"+h:(r=v.toExponential(),r=r.slice(0,r.indexOf("e")+1)+h),u=new o(r)):u=new o(v.toString()),n=(h=o.precision)+3;;)if(i=u,u=i.plus(fe(s,i,n+2,1)).times(.5),Se(i.d).slice(0,n)===(r=Se(u.d)).slice(0,n))if(r=r.slice(n-3,n+1),r=="9999"||!t&&r=="4999"){if(!t&&(Y(i,h+1,0),i.times(i).eq(s))){u=i;break}n+=4,t=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Y(u,h+1,1),e=!u.times(u).eq(s));break}return Q=!0,Y(u,h,o.rounding,e)};P.tangent=P.tan=function(){var e,r,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(e=u.precision,r=u.rounding,u.precision=e+10,u.rounding=1,n=n.sin(),n.s=1,n=fe(n,new u(1).minus(n.times(n)).sqrt(),e+10,0),u.precision=e,u.rounding=r,Y(je==2||je==4?n.neg():n,e,r,!0)):new u(NaN)};P.times=P.mul=function(e){var r,n,u,t,i,s,l,h,v,o=this,a=o.constructor,f=o.d,D=(e=new a(e)).d;if(e.s*=o.s,!f||!f[0]||!D||!D[0])return new a(!e.s||f&&!f[0]&&!D||D&&!D[0]&&!f?NaN:!f||!D?e.s/0:e.s*0);for(n=be(o.e/X)+be(e.e/X),h=f.length,v=D.length,h<v&&(i=f,f=D,D=i,s=h,h=v,v=s),i=[],s=h+v,u=s;u--;)i.push(0);for(u=v;--u>=0;){for(r=0,t=h+u;t>u;)l=i[t]+D[u]*f[t-u-1]+r,i[t--]=l%Je|0,r=l/Je|0;i[t]=(i[t]+r)%Je|0}for(;!i[--s];)i.pop();return r?++n:i.shift(),e.d=i,e.e=Gr(i,n),Q?Y(e,a.precision,a.rounding):e};P.toBinary=function(e,r){return wt(this,2,e,r)};P.toDecimalPlaces=P.toDP=function(e,r){var n=this,u=n.constructor;return n=new u(n),e===void 0?n:(Pe(e,0,or),r===void 0?r=u.rounding:Pe(r,0,8),Y(n,e+n.e+1,r))};P.toExponential=function(e,r){var n,u=this,t=u.constructor;return e===void 0?n=Ye(u,!0):(Pe(e,0,or),r===void 0?r=t.rounding:Pe(r,0,8),u=Y(new t(u),e+1,r),n=Ye(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+n:n};P.toFixed=function(e,r){var n,u,t=this,i=t.constructor;return e===void 0?n=Ye(t):(Pe(e,0,or),r===void 0?r=i.rounding:Pe(r,0,8),u=Y(new i(t),e+t.e+1,r),n=Ye(u,!1,e+u.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};P.toFraction=function(e){var r,n,u,t,i,s,l,h,v,o,a,f,D=this,w=D.d,c=D.constructor;if(!w)return new c(D);if(v=n=new c(1),u=h=new c(0),r=new c(u),i=r.e=Pn(w)-D.e-1,s=i%X,r.d[0]=ye(10,s<0?X+s:s),e==null)e=i>0?r:v;else{if(l=new c(e),!l.isInt()||l.lt(v))throw Error(ur+l);e=l.gt(r)?i>0?r:v:l}for(Q=!1,l=new c(Se(w)),o=c.precision,c.precision=i=w.length*X*2;a=fe(l,r,0,1,1),t=n.plus(a.times(u)),t.cmp(e)!=1;)n=u,u=t,t=v,v=h.plus(a.times(t)),h=t,t=r,r=l.minus(a.times(t)),l=t;return t=fe(e.minus(n),u,0,1,1),h=h.plus(t.times(v)),n=n.plus(t.times(u)),h.s=v.s=D.s,f=fe(v,u,i,1).minus(D).abs().cmp(fe(h,n,i,1).minus(D).abs())<1?[v,u]:[h,n],c.precision=o,Q=!0,f};P.toHexadecimal=P.toHex=function(e,r){return wt(this,16,e,r)};P.toNearest=function(e,r){var n=this,u=n.constructor;if(n=new u(n),e==null){if(!n.d)return n;e=new u(1),r=u.rounding}else{if(e=new u(e),r===void 0?r=u.rounding:Pe(r,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Q=!1,n=fe(n,e,0,r,1).times(e),Q=!0,Y(n)):(e.s=n.s,n=e),n};P.toNumber=function(){return+this};P.toOctal=function(e,r){return wt(this,8,e,r)};P.toPower=P.pow=function(e){var r,n,u,t,i,s,l=this,h=l.constructor,v=+(e=new h(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new h(ye(+l,v));if(l=new h(l),l.eq(1))return l;if(u=h.precision,i=h.rounding,e.eq(1))return Y(l,u,i);if(r=be(e.e/X),r>=e.d.length-1&&(n=v<0?-v:v)<=Qi)return t=$n(h,l,n,u),e.s<0?new h(1).div(t):Y(t,u,i);if(s=l.s,s<0){if(r<e.d.length-1)return new h(NaN);if(e.d[r]&1||(s=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=s,l}return n=ye(+l,v),r=n==0||!isFinite(n)?be(v*(Math.log("0."+Se(l.d))/Math.LN10+l.e+1)):new h(n+"").e,r>h.maxE+1||r<h.minE-1?new h(r>0?s/0:0):(Q=!1,h.rounding=l.s=1,n=Math.min(12,(r+"").length),t=lt(e.times(tr(l,u+n)),u),t.d&&(t=Y(t,u+5,1),Br(t.d,u,i)&&(r=u+10,t=Y(lt(e.times(tr(l,r+n)),r),r+5,1),+Se(t.d).slice(u+1,u+15)+1==1e14&&(t=Y(t,u+1,0)))),t.s=s,Q=!0,h.rounding=i,Y(t,u,i))};P.toPrecision=function(e,r){var n,u=this,t=u.constructor;return e===void 0?n=Ye(u,u.e<=t.toExpNeg||u.e>=t.toExpPos):(Pe(e,1,or),r===void 0?r=t.rounding:Pe(r,0,8),u=Y(new t(u),e,r),n=Ye(u,e<=u.e||u.e<=t.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+n:n};P.toSignificantDigits=P.toSD=function(e,r){var n=this,u=n.constructor;return e===void 0?(e=u.precision,r=u.rounding):(Pe(e,1,or),r===void 0?r=u.rounding:Pe(r,0,8)),Y(new u(n),e,r)};P.toString=function(){var e=this,r=e.constructor,n=Ye(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};P.truncated=P.trunc=function(){return Y(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var e=this,r=e.constructor,n=Ye(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+n:n};function Se(e){var r,n,u,t=e.length-1,i="",s=e[0];if(t>0){for(i+=s,r=1;r<t;r++)u=e[r]+"",n=X-u.length,n&&(i+=rr(n)),i+=u;s=e[r],u=s+"",n=X-u.length,n&&(i+=rr(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}function Pe(e,r,n){if(e!==~~e||e<r||e>n)throw Error(ur+e)}function Br(e,r,n,u){var t,i,s,l;for(i=e[0];i>=10;i/=10)--r;return--r<0?(r+=X,t=0):(t=Math.ceil((r+1)/X),r%=X),i=ye(10,X-r),l=e[t]%i|0,u==null?r<3?(r==0?l=l/100|0:r==1&&(l=l/10|0),s=n<4&&l==99999||n>3&&l==49999||l==5e4||l==0):s=(n<4&&l+1==i||n>3&&l+1==i/2)&&(e[t+1]/i/100|0)==ye(10,r-2)-1||(l==i/2||l==0)&&(e[t+1]/i/100|0)==0:r<4?(r==0?l=l/1e3|0:r==1?l=l/100|0:r==2&&(l=l/10|0),s=(u||n<4)&&l==9999||!u&&n>3&&l==4999):s=((u||n<4)&&l+1==i||!u&&n>3&&l+1==i/2)&&(e[t+1]/i/1e3|0)==ye(10,r-3)-1,s}function Tr(e,r,n){for(var u,t=[0],i,s=0,l=e.length;s<l;){for(i=t.length;i--;)t[i]*=r;for(t[0]+=st.indexOf(e.charAt(s++)),u=0;u<t.length;u++)t[u]>n-1&&(t[u+1]===void 0&&(t[u+1]=0),t[u+1]+=t[u]/n|0,t[u]%=n)}return t.reverse()}function ki(e,r){var n,u,t;if(r.isZero())return r;u=r.d.length,u<32?(n=Math.ceil(u/3),t=(1/Xr(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),e.precision+=n,r=dr(e,1,r.times(t),new e(1));for(var i=n;i--;){var s=r.times(r);r=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,r}var fe=function(){function e(u,t,i){var s,l=0,h=u.length;for(u=u.slice();h--;)s=u[h]*t+l,u[h]=s%i|0,l=s/i|0;return l&&u.unshift(l),u}function r(u,t,i,s){var l,h;if(i!=s)h=i>s?1:-1;else for(l=h=0;l<i;l++)if(u[l]!=t[l]){h=u[l]>t[l]?1:-1;break}return h}function n(u,t,i,s){for(var l=0;i--;)u[i]-=l,l=u[i]<t[i]?1:0,u[i]=l*s+u[i]-t[i];for(;!u[0]&&u.length>1;)u.shift()}return function(u,t,i,s,l,h){var v,o,a,f,D,w,c,g,p,m,d,E,A,F,C,_,M,b,N,S,L=u.constructor,z=u.s==t.s?1:-1,q=u.d,T=t.d;if(!q||!q[0]||!T||!T[0])return new L(!u.s||!t.s||(q?T&&q[0]==T[0]:!T)?NaN:q&&q[0]==0||!T?z*0:z/0);for(h?(D=1,o=u.e-t.e):(h=Je,D=X,o=be(u.e/D)-be(t.e/D)),N=T.length,M=q.length,p=new L(z),m=p.d=[],a=0;T[a]==(q[a]||0);a++);if(T[a]>(q[a]||0)&&o--,i==null?(F=i=L.precision,s=L.rounding):l?F=i+(u.e-t.e)+1:F=i,F<0)m.push(1),w=!0;else{if(F=F/D+2|0,a=0,N==1){for(f=0,T=T[0],F++;(a<M||f)&&F--;a++)C=f*h+(q[a]||0),m[a]=C/T|0,f=C%T|0;w=f||a<M}else{for(f=h/(T[0]+1)|0,f>1&&(T=e(T,f,h),q=e(q,f,h),N=T.length,M=q.length),_=N,d=q.slice(0,N),E=d.length;E<N;)d[E++]=0;S=T.slice(),S.unshift(0),b=T[0],T[1]>=h/2&&++b;do f=0,v=r(T,d,N,E),v<0?(A=d[0],N!=E&&(A=A*h+(d[1]||0)),f=A/b|0,f>1?(f>=h&&(f=h-1),c=e(T,f,h),g=c.length,E=d.length,v=r(c,d,g,E),v==1&&(f--,n(c,N<g?S:T,g,h))):(f==0&&(v=f=1),c=T.slice()),g=c.length,g<E&&c.unshift(0),n(d,c,E,h),v==-1&&(E=d.length,v=r(T,d,N,E),v<1&&(f++,n(d,N<E?S:T,E,h))),E=d.length):v===0&&(f++,d=[0]),m[a++]=f,v&&d[0]?d[E++]=q[_]||0:(d=[q[_]],E=1);while((_++<M||d[0]!==void 0)&&F--);w=d[0]!==void 0}m[0]||m.shift()}if(D==1)p.e=o,xn=w;else{for(a=1,f=m[0];f>=10;f/=10)a++;p.e=a+o*D-1,Y(p,l?i+p.e+1:i,s,w)}return p}}();function Y(e,r,n,u){var t,i,s,l,h,v,o,a,f,D=e.constructor;e:if(r!=null){if(a=e.d,!a)return e;for(t=1,l=a[0];l>=10;l/=10)t++;if(i=r-t,i<0)i+=X,s=r,o=a[f=0],h=o/ye(10,t-s-1)%10|0;else if(f=Math.ceil((i+1)/X),l=a.length,f>=l)if(u){for(;l++<=f;)a.push(0);o=h=0,t=1,i%=X,s=i-X+1}else break e;else{for(o=l=a[f],t=1;l>=10;l/=10)t++;i%=X,s=i-X+t,h=s<0?0:o/ye(10,t-s-1)%10|0}if(u=u||r<0||a[f+1]!==void 0||(s<0?o:o%ye(10,t-s-1)),v=n<4?(h||u)&&(n==0||n==(e.s<0?3:2)):h>5||h==5&&(n==4||u||n==6&&(i>0?s>0?o/ye(10,t-s):0:a[f-1])%10&1||n==(e.s<0?8:7)),r<1||!a[0])return a.length=0,v?(r-=e.e+1,a[0]=ye(10,(X-r%X)%X),e.e=-r||0):a[0]=e.e=0,e;if(i==0?(a.length=f,l=1,f--):(a.length=f+1,l=ye(10,X-i),a[f]=s>0?(o/ye(10,t-s)%ye(10,s)|0)*l:0),v)for(;;)if(f==0){for(i=1,s=a[0];s>=10;s/=10)i++;for(s=a[0]+=l,l=1;s>=10;s/=10)l++;i!=l&&(e.e++,a[0]==Je&&(a[0]=1));break}else{if(a[f]+=l,a[f]!=Je)break;a[f--]=0,l=1}for(i=a.length;a[--i]===0;)a.pop()}return Q&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function Ye(e,r,n){if(!e.isFinite())return Rn(e);var u,t=e.e,i=Se(e.d),s=i.length;return r?(n&&(u=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+rr(u):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):t<0?(i="0."+rr(-t-1)+i,n&&(u=n-s)>0&&(i+=rr(u))):t>=s?(i+=rr(t+1-s),n&&(u=n-t-1)>0&&(i=i+"."+rr(u))):((u=t+1)<s&&(i=i.slice(0,u)+"."+i.slice(u)),n&&(u=n-s)>0&&(t+1===s&&(i+="."),i+=rr(u))),i}function Gr(e,r){var n=e[0];for(r*=X;n>=10;n/=10)r++;return r}function Ur(e,r,n){if(r>ji)throw Q=!0,n&&(e.precision=n),Error(Tn);return Y(new e(qr),r,1,!0)}function Ve(e,r,n){if(r>ct)throw Error(Tn);return Y(new e(Rr),r,n,!0)}function Pn(e){var r=e.length-1,n=r*X+1;if(r=e[r],r){for(;r%10==0;r/=10)n--;for(r=e[0];r>=10;r/=10)n++}return n}function rr(e){for(var r="";e--;)r+="0";return r}function $n(e,r,n,u){var t,i=new e(1),s=Math.ceil(u/X+4);for(Q=!1;;){if(n%2&&(i=i.times(r),Pt(i.d,s)&&(t=!0)),n=be(n/2),n===0){n=i.d.length-1,t&&i.d[n]===0&&++i.d[n];break}r=r.times(r),Pt(r.d,s)}return Q=!0,i}function It(e){return e.d[e.d.length-1]&1}function qn(e,r,n){for(var u,t=new e(r[0]),i=0;++i<r.length;)if(u=new e(r[i]),u.s)t[n](u)&&(t=u);else{t=u;break}return t}function lt(e,r){var n,u,t,i,s,l,h,v=0,o=0,a=0,f=e.constructor,D=f.rounding,w=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(r==null?(Q=!1,h=w):h=r,l=new f(.03125);e.e>-2;)e=e.times(l),a+=5;for(u=Math.log(ye(2,a))/Math.LN10*2+5|0,h+=u,n=i=s=new f(1),f.precision=h;;){if(i=Y(i.times(e),h,1),n=n.times(++o),l=s.plus(fe(i,n,h,1)),Se(l.d).slice(0,h)===Se(s.d).slice(0,h)){for(t=a;t--;)s=Y(s.times(s),h,1);if(r==null)if(v<3&&Br(s.d,h-u,D,v))f.precision=h+=10,n=i=l=new f(1),o=0,v++;else return Y(s,f.precision=w,D,Q=!0);else return f.precision=w,s}s=l}}function tr(e,r){var n,u,t,i,s,l,h,v,o,a,f,D=1,w=10,c=e,g=c.d,p=c.constructor,m=p.rounding,d=p.precision;if(c.s<0||!g||!g[0]||!c.e&&g[0]==1&&g.length==1)return new p(g&&!g[0]?-1/0:c.s!=1?NaN:g?0:c);if(r==null?(Q=!1,o=d):o=r,p.precision=o+=w,n=Se(g),u=n.charAt(0),Math.abs(i=c.e)<15e14){for(;u<7&&u!=1||u==1&&n.charAt(1)>3;)c=c.times(e),n=Se(c.d),u=n.charAt(0),D++;i=c.e,u>1?(c=new p("0."+n),i++):c=new p(u+"."+n.slice(1))}else return v=Ur(p,o+2,d).times(i+""),c=tr(new p(u+"."+n.slice(1)),o-w).plus(v),p.precision=d,r==null?Y(c,d,m,Q=!0):c;for(a=c,h=s=c=fe(c.minus(1),c.plus(1),o,1),f=Y(c.times(c),o,1),t=3;;){if(s=Y(s.times(f),o,1),v=h.plus(fe(s,new p(t),o,1)),Se(v.d).slice(0,o)===Se(h.d).slice(0,o))if(h=h.times(2),i!==0&&(h=h.plus(Ur(p,o+2,d).times(i+""))),h=fe(h,new p(D),o,1),r==null)if(Br(h.d,o-w,m,l))p.precision=o+=w,v=s=c=fe(a.minus(1),a.plus(1),o,1),f=Y(c.times(c),o,1),t=l=1;else return Y(h,p.precision=d,m,Q=!0);else return p.precision=d,h;h=v,t+=2}}function Rn(e){return String(e.s*e.s/0)}function ht(e,r){var n,u,t;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(u=r.search(/e/i))>0?(n<0&&(n=u),n+=+r.slice(u+1),r=r.substring(0,u)):n<0&&(n=r.length),u=0;r.charCodeAt(u)===48;u++);for(t=r.length;r.charCodeAt(t-1)===48;--t);if(r=r.slice(u,t),r){if(t-=u,e.e=n=n-u-1,e.d=[],u=(n+1)%X,n<0&&(u+=X),u<t){for(u&&e.d.push(+r.slice(0,u)),t-=X;u<t;)e.d.push(+r.slice(u,u+=X));r=r.slice(u),u=X-r.length}else u-=t;for(;u--;)r+="0";e.d.push(+r),Q&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ea(e,r){var n,u,t,i,s,l,h,v,o;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),In.test(r))return ht(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(Xi.test(r))n=16,r=r.toLowerCase();else if(Gi.test(r))n=2;else if(Ki.test(r))n=8;else throw Error(ur+r);for(i=r.search(/p/i),i>0?(h=+r.slice(i+1),r=r.substring(2,i)):r=r.slice(2),i=r.indexOf("."),s=i>=0,u=e.constructor,s&&(r=r.replace(".",""),l=r.length,i=l-i,t=$n(u,new u(n),i,i*2)),v=Tr(r,n,Je),o=v.length-1,i=o;v[i]===0;--i)v.pop();return i<0?new u(e.s*0):(e.e=Gr(v,o),e.d=v,Q=!1,s&&(e=fe(e,t,l*4)),h&&(e=e.times(Math.abs(h)<54?ye(2,h):gr.pow(2,h))),Q=!0,e)}function ra(e,r){var n,u=r.d.length;if(u<3)return r.isZero()?r:dr(e,2,r,r);n=1.4*Math.sqrt(u),n=n>16?16:n|0,r=r.times(1/Xr(5,n)),r=dr(e,2,r,r);for(var t,i=new e(5),s=new e(16),l=new e(20);n--;)t=r.times(r),r=r.times(i.plus(t.times(s.times(t).minus(l))));return r}function dr(e,r,n,u,t){var i,s,l,h,v=e.precision,o=Math.ceil(v/X);for(Q=!1,h=n.times(n),l=new e(u);;){if(s=fe(l.times(h),new e(r++*r++),v,1),l=t?u.plus(s):u.minus(s),u=fe(s.times(h),new e(r++*r++),v,1),s=l.plus(u),s.d[o]!==void 0){for(i=o;s.d[i]===l.d[i]&&i--;);if(i==-1)break}i=l,l=u,u=s,s=i}return Q=!0,s.d.length=o+1,s}function Xr(e,r){for(var n=e;--r;)n*=e;return n}function Un(e,r){var n,u=r.s<0,t=Ve(e,e.precision,1),i=t.times(.5);if(r=r.abs(),r.lte(i))return je=u?4:1,r;if(n=r.divToInt(t),n.isZero())je=u?3:2;else{if(r=r.minus(n.times(t)),r.lte(i))return je=It(n)?u?2:3:u?4:1,r;je=It(n)?u?1:4:u?3:2}return r.minus(t).abs()}function wt(e,r,n,u){var t,i,s,l,h,v,o,a,f,D=e.constructor,w=n!==void 0;if(w?(Pe(n,1,or),u===void 0?u=D.rounding:Pe(u,0,8)):(n=D.precision,u=D.rounding),!e.isFinite())o=Rn(e);else{for(o=Ye(e),s=o.indexOf("."),w?(t=2,r==16?n=n*4-3:r==8&&(n=n*3-2)):t=r,s>=0&&(o=o.replace(".",""),f=new D(1),f.e=o.length-s,f.d=Tr(Ye(f),10,t),f.e=f.d.length),a=Tr(o,10,t),i=h=a.length;a[--h]==0;)a.pop();if(!a[0])o=w?"0p+0":"0";else{if(s<0?i--:(e=new D(e),e.d=a,e.e=i,e=fe(e,f,n,u,0,t),a=e.d,i=e.e,v=xn),s=a[n],l=t/2,v=v||a[n+1]!==void 0,v=u<4?(s!==void 0||v)&&(u===0||u===(e.s<0?3:2)):s>l||s===l&&(u===4||v||u===6&&a[n-1]&1||u===(e.s<0?8:7)),a.length=n,v)for(;++a[--n]>t-1;)a[n]=0,n||(++i,a.unshift(1));for(h=a.length;!a[h-1];--h);for(s=0,o="";s<h;s++)o+=st.charAt(a[s]);if(w){if(h>1)if(r==16||r==8){for(s=r==16?4:3,--h;h%s;h++)o+="0";for(a=Tr(o,t,r),h=a.length;!a[h-1];--h);for(s=1,o="1.";s<h;s++)o+=st.charAt(a[s])}else o=o.charAt(0)+"."+o.slice(1);o=o+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(++i>h)for(i-=h;i--;)o+="0";else i<h&&(o=o.slice(0,i)+"."+o.slice(i))}o=(r==16?"0x":r==2?"0b":r==8?"0o":"")+o}return e.s<0?"-"+o:o}function Pt(e,r){if(e.length>r)return e.length=r,!0}function ta(e){return new this(e).abs()}function na(e){return new this(e).acos()}function ua(e){return new this(e).acosh()}function ia(e,r){return new this(e).plus(r)}function aa(e){return new this(e).asin()}function oa(e){return new this(e).asinh()}function sa(e){return new this(e).atan()}function fa(e){return new this(e).atanh()}function ca(e,r){e=new this(e),r=new this(r);var n,u=this.precision,t=this.rounding,i=u+4;return!e.s||!r.s?n=new this(NaN):!e.d&&!r.d?(n=Ve(this,i,1).times(r.s>0?.25:.75),n.s=e.s):!r.d||e.isZero()?(n=r.s<0?Ve(this,u,t):new this(0),n.s=e.s):!e.d||r.isZero()?(n=Ve(this,i,1).times(.5),n.s=e.s):r.s<0?(this.precision=i,this.rounding=1,n=this.atan(fe(e,r,i,1)),r=Ve(this,i,1),this.precision=u,this.rounding=t,n=e.s<0?n.minus(r):n.plus(r)):n=this.atan(fe(e,r,i,1)),n}function la(e){return new this(e).cbrt()}function ha(e){return Y(e=new this(e),e.e+1,2)}function va(e,r,n){return new this(e).clamp(r,n)}function Da(e){if(!e||typeof e!="object")throw Error(Yr+"Object expected");var r,n,u,t=e.defaults===!0,i=["precision",1,or,"rounding",0,8,"toExpNeg",-vr,0,"toExpPos",0,vr,"maxE",0,vr,"minE",-vr,0,"modulo",0,9];for(r=0;r<i.length;r+=3)if(n=i[r],t&&(this[n]=ft[n]),(u=e[n])!==void 0)if(be(u)===u&&u>=i[r+1]&&u<=i[r+2])this[n]=u;else throw Error(ur+n+": "+u);if(n="crypto",t&&(this[n]=ft[n]),(u=e[n])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(zn);else this[n]=!1;else throw Error(ur+n+": "+u);return this}function pa(e){return new this(e).cos()}function da(e){return new this(e).cosh()}function Ln(e){var r,n,u;function t(i){var s,l,h,v=this;if(!(v instanceof t))return new t(i);if(v.constructor=t,$t(i)){v.s=i.s,Q?!i.d||i.e>t.maxE?(v.e=NaN,v.d=null):i.e<t.minE?(v.e=0,v.d=[0]):(v.e=i.e,v.d=i.d.slice()):(v.e=i.e,v.d=i.d?i.d.slice():i.d);return}if(h=typeof i,h==="number"){if(i===0){v.s=1/i<0?-1:1,v.e=0,v.d=[0];return}if(i<0?(i=-i,v.s=-1):v.s=1,i===~~i&&i<1e7){for(s=0,l=i;l>=10;l/=10)s++;Q?s>t.maxE?(v.e=NaN,v.d=null):s<t.minE?(v.e=0,v.d=[0]):(v.e=s,v.d=[i]):(v.e=s,v.d=[i]);return}else if(i*0!==0){i||(v.s=NaN),v.e=NaN,v.d=null;return}return ht(v,i.toString())}else if(h!=="string")throw Error(ur+i);return(l=i.charCodeAt(0))===45?(i=i.slice(1),v.s=-1):(l===43&&(i=i.slice(1)),v.s=1),In.test(i)?ht(v,i):ea(v,i)}if(t.prototype=P,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=Da,t.clone=Ln,t.isDecimal=$t,t.abs=ta,t.acos=na,t.acosh=ua,t.add=ia,t.asin=aa,t.asinh=oa,t.atan=sa,t.atanh=fa,t.atan2=ca,t.cbrt=la,t.ceil=ha,t.clamp=va,t.cos=pa,t.cosh=da,t.div=ga,t.exp=ma,t.floor=wa,t.hypot=Aa,t.ln=Fa,t.log=Ea,t.log10=Ca,t.log2=ya,t.max=_a,t.min=Ba,t.mod=Ma,t.mul=Na,t.pow=Sa,t.random=ba,t.round=xa,t.sign=Ta,t.sin=za,t.sinh=Oa,t.sqrt=Ia,t.sub=Pa,t.sum=$a,t.tan=qa,t.tanh=Ra,t.trunc=Ua,e===void 0&&(e={}),e&&e.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<u.length;)e.hasOwnProperty(n=u[r++])||(e[n]=this[n]);return t.config(e),t}function ga(e,r){return new this(e).div(r)}function ma(e){return new this(e).exp()}function wa(e){return Y(e=new this(e),e.e+1,3)}function Aa(){var e,r,n=new this(0);for(Q=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return Q=!0,new this(1/0);n=r}return Q=!0,n.sqrt()}function $t(e){return e instanceof gr||e&&e.toStringTag===On||!1}function Fa(e){return new this(e).ln()}function Ea(e,r){return new this(e).log(r)}function ya(e){return new this(e).log(2)}function Ca(e){return new this(e).log(10)}function _a(){return qn(this,arguments,"lt")}function Ba(){return qn(this,arguments,"gt")}function Ma(e,r){return new this(e).mod(r)}function Na(e,r){return new this(e).mul(r)}function Sa(e,r){return new this(e).pow(r)}function ba(e){var r,n,u,t,i=0,s=new this(1),l=[];if(e===void 0?e=this.precision:Pe(e,1,or),u=Math.ceil(e/X),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(u));i<u;)t=r[i],t>=429e7?r[i]=crypto.getRandomValues(new Uint32Array(1))[0]:l[i++]=t%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(u*=4);i<u;)t=r[i]+(r[i+1]<<8)+(r[i+2]<<16)+((r[i+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(r,i):(l.push(t%1e7),i+=4);i=u/4}else throw Error(zn);else for(;i<u;)l[i++]=Math.random()*1e7|0;for(u=l[--i],e%=X,u&&e&&(t=ye(10,X-e),l[i]=(u/t|0)*t);l[i]===0;i--)l.pop();if(i<0)n=0,l=[0];else{for(n=-1;l[0]===0;n-=X)l.shift();for(u=1,t=l[0];t>=10;t/=10)u++;u<X&&(n-=X-u)}return s.e=n,s.d=l,s}function xa(e){return Y(e=new this(e),e.e+1,this.rounding)}function Ta(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function za(e){return new this(e).sin()}function Oa(e){return new this(e).sinh()}function Ia(e){return new this(e).sqrt()}function Pa(e,r){return new this(e).sub(r)}function $a(){var e=0,r=arguments,n=new this(r[e]);for(Q=!1;n.s&&++e<r.length;)n=n.plus(r[e]);return Q=!0,Y(n,this.precision,this.rounding)}function qa(e){return new this(e).tan()}function Ra(e){return new this(e).tanh()}function Ua(e){return Y(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var gr=P.constructor=Ln(ft);qr=new gr(qr);Rr=new gr(Rr);var La="BigNumber",Za=["?on","config"],Va=G(La,Za,e=>{var{on:r,config:n}=e,u=gr.clone({precision:n.precision,modulo:gr.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(t){return new u(t.value)},r&&r("config",function(t,i){t.precision!==i.precision&&u.config({precision:t.precision})}),u},{isClass:!0});function Zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vn={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(n){var u=Math.cosh||function(a){return Math.abs(a)<1e-9?1-a:(Math.exp(a)+Math.exp(-a))*.5},t=Math.sinh||function(a){return Math.abs(a)<1e-9?a:(Math.exp(a)-Math.exp(-a))*.5},i=function(a){var f=Math.PI/4;if(-f>a||a>f)return Math.cos(a)-1;var D=a*a;return D*(D*(D*(D*(D*(D*(D*(D/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(a,f){var D=Math.abs(a),w=Math.abs(f);return D<3e3&&w<3e3?Math.sqrt(D*D+w*w):(D<w?(D=w,w=a/f):w=f/a,D*Math.sqrt(1+w*w))},l=function(){throw SyntaxError("Invalid Param")};function h(a,f){var D=Math.abs(a),w=Math.abs(f);return a===0?Math.log(w):f===0?Math.log(D):D<3e3&&w<3e3?Math.log(a*a+f*f)*.5:(a=a/2,f=f/2,.5*Math.log(a*a+f*f)+Math.LN2)}var v=function(a,f){var D={re:0,im:0};if(a==null)D.re=D.im=0;else if(f!==void 0)D.re=a,D.im=f;else switch(typeof a){case"object":if("im"in a&&"re"in a)D.re=a.re,D.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return o.INFINITY;D.re=a.abs*Math.cos(a.arg),D.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return o.INFINITY;D.re=a.r*Math.cos(a.phi),D.im=a.r*Math.sin(a.phi)}else a.length===2?(D.re=a[0],D.im=a[1]):l();break;case"string":D.im=D.re=0;var w=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),c=1,g=0;w===null&&l();for(var p=0;p<w.length;p++){var m=w[p];m===" "||m==="	"||m===`
`||(m==="+"?c++:m==="-"?g++:m==="i"||m==="I"?(c+g===0&&l(),w[p+1]!==" "&&!isNaN(w[p+1])?(D.im+=parseFloat((g%2?"-":"")+w[p+1]),p++):D.im+=parseFloat((g%2?"-":"")+"1"),c=g=0):((c+g===0||isNaN(m))&&l(),w[p+1]==="i"||w[p+1]==="I"?(D.im+=parseFloat((g%2?"-":"")+m),p++):D.re+=parseFloat((g%2?"-":"")+m),c=g=0))}c+g>0&&l();break;case"number":D.im=0,D.re=a;break;default:l()}return isNaN(D.re)||isNaN(D.im),D};function o(a,f){if(!(this instanceof o))return new o(a,f);var D=v(a,f);this.re=D.re,this.im=D.im}o.prototype={re:0,im:0,sign:function(){var a=this.abs();return new o(this.re/a,this.im/a)},add:function(a,f){var D=new o(a,f);return this.isInfinite()&&D.isInfinite()?o.NAN:this.isInfinite()||D.isInfinite()?o.INFINITY:new o(this.re+D.re,this.im+D.im)},sub:function(a,f){var D=new o(a,f);return this.isInfinite()&&D.isInfinite()?o.NAN:this.isInfinite()||D.isInfinite()?o.INFINITY:new o(this.re-D.re,this.im-D.im)},mul:function(a,f){var D=new o(a,f);return this.isInfinite()&&D.isZero()||this.isZero()&&D.isInfinite()?o.NAN:this.isInfinite()||D.isInfinite()?o.INFINITY:D.im===0&&this.im===0?new o(this.re*D.re,0):new o(this.re*D.re-this.im*D.im,this.re*D.im+this.im*D.re)},div:function(a,f){var D=new o(a,f);if(this.isZero()&&D.isZero()||this.isInfinite()&&D.isInfinite())return o.NAN;if(this.isInfinite()||D.isZero())return o.INFINITY;if(this.isZero()||D.isInfinite())return o.ZERO;a=this.re,f=this.im;var w=D.re,c=D.im,g,p;return c===0?new o(a/w,f/w):Math.abs(w)<Math.abs(c)?(p=w/c,g=w*p+c,new o((a*p+f)/g,(f*p-a)/g)):(p=c/w,g=c*p+w,new o((a+f*p)/g,(f-a*p)/g))},pow:function(a,f){var D=new o(a,f);if(a=this.re,f=this.im,D.isZero())return o.ONE;if(D.im===0){if(f===0&&a>0)return new o(Math.pow(a,D.re),0);if(a===0)switch((D.re%4+4)%4){case 0:return new o(Math.pow(f,D.re),0);case 1:return new o(0,Math.pow(f,D.re));case 2:return new o(-Math.pow(f,D.re),0);case 3:return new o(0,-Math.pow(f,D.re))}}if(a===0&&f===0&&D.re>0&&D.im>=0)return o.ZERO;var w=Math.atan2(f,a),c=h(a,f);return a=Math.exp(D.re*c-D.im*w),f=D.im*c+D.re*w,new o(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){var a=this.re,f=this.im,D=this.abs(),w,c;if(a>=0){if(f===0)return new o(Math.sqrt(a),0);w=.5*Math.sqrt(2*(D+a))}else w=Math.abs(f)/Math.sqrt(2*(D-a));return a<=0?c=.5*Math.sqrt(2*(D-a)):c=Math.abs(f)/Math.sqrt(2*(D+a)),new o(w,f<0?-c:c)},exp:function(){var a=Math.exp(this.re);return this.im,new o(a*Math.cos(this.im),a*Math.sin(this.im))},expm1:function(){var a=this.re,f=this.im;return new o(Math.expm1(a)*Math.cos(f)+i(f),Math.exp(a)*Math.sin(f))},log:function(){var a=this.re,f=this.im;return new o(h(a,f),Math.atan2(f,a))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,f=this.im;return new o(Math.sin(a)*u(f),Math.cos(a)*t(f))},cos:function(){var a=this.re,f=this.im;return new o(Math.cos(a)*u(f),-Math.sin(a)*t(f))},tan:function(){var a=2*this.re,f=2*this.im,D=Math.cos(a)+u(f);return new o(Math.sin(a)/D,t(f)/D)},cot:function(){var a=2*this.re,f=2*this.im,D=Math.cos(a)-u(f);return new o(-Math.sin(a)/D,t(f)/D)},sec:function(){var a=this.re,f=this.im,D=.5*u(2*f)+.5*Math.cos(2*a);return new o(Math.cos(a)*u(f)/D,Math.sin(a)*t(f)/D)},csc:function(){var a=this.re,f=this.im,D=.5*u(2*f)-.5*Math.cos(2*a);return new o(Math.sin(a)*u(f)/D,-Math.cos(a)*t(f)/D)},asin:function(){var a=this.re,f=this.im,D=new o(f*f-a*a+1,-2*a*f).sqrt(),w=new o(D.re-f,D.im+a).log();return new o(w.im,-w.re)},acos:function(){var a=this.re,f=this.im,D=new o(f*f-a*a+1,-2*a*f).sqrt(),w=new o(D.re-f,D.im+a).log();return new o(Math.PI/2-w.im,w.re)},atan:function(){var a=this.re,f=this.im;if(a===0){if(f===1)return new o(0,1/0);if(f===-1)return new o(0,-1/0)}var D=a*a+(1-f)*(1-f),w=new o((1-f*f-a*a)/D,-2*a/D).log();return new o(-.5*w.im,.5*w.re)},acot:function(){var a=this.re,f=this.im;if(f===0)return new o(Math.atan2(1,a),0);var D=a*a+f*f;return D!==0?new o(a/D,-f/D).atan():new o(a!==0?a/0:0,f!==0?-f/0:0).atan()},asec:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(0,1/0);var D=a*a+f*f;return D!==0?new o(a/D,-f/D).acos():new o(a!==0?a/0:0,f!==0?-f/0:0).acos()},acsc:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(Math.PI/2,1/0);var D=a*a+f*f;return D!==0?new o(a/D,-f/D).asin():new o(a!==0?a/0:0,f!==0?-f/0:0).asin()},sinh:function(){var a=this.re,f=this.im;return new o(t(a)*Math.cos(f),u(a)*Math.sin(f))},cosh:function(){var a=this.re,f=this.im;return new o(u(a)*Math.cos(f),t(a)*Math.sin(f))},tanh:function(){var a=2*this.re,f=2*this.im,D=u(a)+Math.cos(f);return new o(t(a)/D,Math.sin(f)/D)},coth:function(){var a=2*this.re,f=2*this.im,D=u(a)-Math.cos(f);return new o(t(a)/D,-Math.sin(f)/D)},csch:function(){var a=this.re,f=this.im,D=Math.cos(2*f)-u(2*a);return new o(-2*t(a)*Math.cos(f)/D,2*u(a)*Math.sin(f)/D)},sech:function(){var a=this.re,f=this.im,D=Math.cos(2*f)+u(2*a);return new o(2*u(a)*Math.cos(f)/D,-2*t(a)*Math.sin(f)/D)},asinh:function(){var a=this.im;this.im=-this.re,this.re=a;var f=this.asin();return this.re=-this.im,this.im=a,a=f.re,f.re=-f.im,f.im=a,f},acosh:function(){var a=this.acos();if(a.im<=0){var f=a.re;a.re=-a.im,a.im=f}else{var f=a.im;a.im=-a.re,a.re=f}return a},atanh:function(){var a=this.re,f=this.im,D=a>1&&f===0,w=1-a,c=1+a,g=w*w+f*f,p=g!==0?new o((c*w-f*f)/g,(f*w+c*f)/g):new o(a!==-1?a/0:0,f!==0?f/0:0),m=p.re;return p.re=h(p.re,p.im)/2,p.im=Math.atan2(p.im,m)/2,D&&(p.im=-p.im),p},acoth:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(0,Math.PI/2);var D=a*a+f*f;return D!==0?new o(a/D,-f/D).atanh():new o(a!==0?a/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var a=this.re,f=this.im;if(f===0)return new o(a!==0?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var D=a*a+f*f;return D!==0?new o(a/D,-f/D).asinh():new o(a!==0?a/0:0,f!==0?-f/0:0).asinh()},asech:function(){var a=this.re,f=this.im;if(this.isZero())return o.INFINITY;var D=a*a+f*f;return D!==0?new o(a/D,-f/D).acosh():new o(a!==0?a/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var a=this.re,f=this.im,D=a*a+f*f;return new o(a/D,-f/D)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(a){return a=Math.pow(10,a||0),new o(Math.ceil(this.re*a)/a,Math.ceil(this.im*a)/a)},floor:function(a){return a=Math.pow(10,a||0),new o(Math.floor(this.re*a)/a,Math.floor(this.im*a)/a)},round:function(a){return a=Math.pow(10,a||0),new o(Math.round(this.re*a)/a,Math.round(this.im*a)/a)},equals:function(a,f){var D=new o(a,f);return Math.abs(D.re-this.re)<=o.EPSILON&&Math.abs(D.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var a=this.re,f=this.im,D="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<o.EPSILON&&(a=0),Math.abs(f)<o.EPSILON&&(f=0),f===0?D+a:(a!==0?(D+=a,D+=" ",f<0?(f=-f,D+="-"):D+="+",D+=" "):f<0&&(f=-f,D+="-"),f!==1&&(D+=f),D+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,e.exports=o})()})(Vn);var Ha=Vn.exports;const Me=Zn(Ha);var Ja="Complex",Wa=[],Ya=G(Ja,Wa,()=>(Object.defineProperty(Me,"name",{value:"Complex"}),Me.prototype.constructor=Me,Me.prototype.type="Complex",Me.prototype.isComplex=!0,Me.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Me.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Me.prototype.format=function(e){var r="",n=this.im,u=this.re,t=at(this.re,e),i=at(this.im,e),s=ve(e)?e:e?e.precision:null;if(s!==null){var l=Math.pow(10,-s);Math.abs(u/n)<l&&(u=0),Math.abs(n/u)<l&&(n=0)}return n===0?r=t:u===0?n===1?r="i":n===-1?r="-i":r=i+"i":n<0?n===-1?r=t+" - i":r=t+" - "+i.substring(1)+"i":n===1?r=t+" + i":r=t+" + "+i+"i",r},Me.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return Me(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],u=arguments[1];if(ve(n)){if(pn(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),ve(u))return new Me({r:n,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Me.prototype.valueOf=Me.prototype.toString,Me.fromJSON=function(e){return new Me(e)},Me.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},Me),{isClass:!0}),Hn={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(n){var u=2e3,t={s:1,n:0,d:1};function i(p,m){if(isNaN(p=parseInt(p,10)))throw c();return p*m}function s(p,m){if(m===0)throw w();var d=Object.create(D.prototype);d.s=p<0?-1:1,p=p<0?-p:p;var E=f(p,m);return d.n=p/E,d.d=m/E,d}function l(p){for(var m={},d=p,E=2,A=4;A<=d;){for(;d%E===0;)d/=E,m[E]=(m[E]||0)+1;A+=1+2*E++}return d!==p?d>1&&(m[d]=(m[d]||0)+1):m[p]=(m[p]||0)+1,m}var h=function(p,m){var d=0,E=1,A=1,F=0,C=0,_=0,M=1,b=1,N=0,S=1,L=1,z=1,q=1e7,T;if(p!=null)if(m!==void 0){if(d=p,E=m,A=d*E,d%1!==0||E%1!==0)throw g()}else switch(typeof p){case"object":{if("d"in p&&"n"in p)d=p.n,E=p.d,"s"in p&&(d*=p.s);else if(0 in p)d=p[0],1 in p&&(E=p[1]);else throw c();A=d*E;break}case"number":{if(p<0&&(A=p,p=-p),p%1===0)d=p;else if(p>0){for(p>=1&&(b=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=b);S<=q&&z<=q;)if(T=(N+L)/(S+z),p===T){S+z<=q?(d=N+L,E=S+z):z>S?(d=L,E=z):(d=N,E=S);break}else p>T?(N+=L,S+=z):(L+=N,z+=S),S>q?(d=L,E=z):(d=N,E=S);d*=b}else(isNaN(p)||isNaN(m))&&(E=d=NaN);break}case"string":{if(S=p.match(/\d+|./g),S===null)throw c();if(S[N]==="-"?(A=-1,N++):S[N]==="+"&&N++,S.length===N+1?C=i(S[N++],A):S[N+1]==="."||S[N]==="."?(S[N]!=="."&&(F=i(S[N++],A)),N++,(N+1===S.length||S[N+1]==="("&&S[N+3]===")"||S[N+1]==="'"&&S[N+3]==="'")&&(C=i(S[N],A),M=Math.pow(10,S[N].length),N++),(S[N]==="("&&S[N+2]===")"||S[N]==="'"&&S[N+2]==="'")&&(_=i(S[N+1],A),b=Math.pow(10,S[N+1].length)-1,N+=3)):S[N+1]==="/"||S[N+1]===":"?(C=i(S[N],A),M=i(S[N+2],1),N+=3):S[N+3]==="/"&&S[N+1]===" "&&(F=i(S[N],A),C=i(S[N+2],A),M=i(S[N+4],1),N+=5),S.length<=N){E=M*b,A=d=_+E*F+b*C;break}}default:throw c()}if(E===0)throw w();t.s=A<0?-1:1,t.n=Math.abs(d),t.d=Math.abs(E)};function v(p,m,d){for(var E=1;m>0;p=p*p%d,m>>=1)m&1&&(E=E*p%d);return E}function o(p,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var d=10%m,E=1;d!==1;E++)if(d=d*10%m,E>u)return 0;return E}function a(p,m,d){for(var E=1,A=v(10,d,m),F=0;F<300;F++){if(E===A)return F;E=E*10%m,A=A*10%m}return 0}function f(p,m){if(!p)return m;if(!m)return p;for(;;){if(p%=m,!p)return m;if(m%=p,!m)return p}}function D(p,m){if(h(p,m),this instanceof D)p=f(t.d,t.n),this.s=t.s,this.n=t.n/p,this.d=t.d/p;else return s(t.s*t.n,t.d)}var w=function(){return new Error("Division by Zero")},c=function(){return new Error("Invalid argument")},g=function(){return new Error("Parameters must be integer")};D.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(p,m){return h(p,m),s(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(p,m){return h(p,m),s(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(p,m){return h(p,m),s(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(p,m){return h(p,m),s(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(p,m){if(isNaN(this.n)||isNaN(this.d))return new D(NaN);if(p===void 0)return s(this.s*this.n%this.d,1);if(h(p,m),t.n===0&&this.d===0)throw w();return s(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(p,m){return h(p,m),s(f(t.n,this.n)*f(t.d,this.d),t.d*this.d)},lcm:function(p,m){return h(p,m),t.n===0&&this.n===0?s(0,1):s(t.n*this.n,f(t.n,this.n)*f(t.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):s(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):s(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):s(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(p,m){if(h(p,m),t.d===1)return t.s<0?s(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):s(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var d=l(this.n),E=l(this.d),A=1,F=1;for(var C in d)if(C!=="1"){if(C==="0"){A=0;break}if(d[C]*=t.n,d[C]%t.d===0)d[C]/=t.d;else return null;A*=Math.pow(C,d[C])}for(var C in E)if(C!=="1"){if(E[C]*=t.n,E[C]%t.d===0)E[C]/=t.d;else return null;F*=Math.pow(C,E[C])}return t.s<0?s(F,A):s(A,F)},equals:function(p,m){return h(p,m),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(p,m){h(p,m);var d=this.s*this.n*t.d-t.s*t.n*this.d;return(0<d)-(d<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var m=this.abs(),d=m.toContinued(),E=1;E<d.length;E++){for(var A=s(d[E-1],1),F=E-2;F>=0;F--)A=A.inverse().add(d[F]);if(Math.abs(A.sub(m).valueOf())<p)return A.mul(this.s)}return this},divisible:function(p,m){return h(p,m),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var m,d="",E=this.n,A=this.d;return this.s<0&&(d+="-"),A===1?d+=E:(p&&(m=Math.floor(E/A))>0&&(d+=m,d+=" ",E%=A),d+=E,d+="/",d+=A),d},toLatex:function(p){var m,d="",E=this.n,A=this.d;return this.s<0&&(d+="-"),A===1?d+=E:(p&&(m=Math.floor(E/A))>0&&(d+=m,E%=A),d+="\\frac{",d+=E,d+="}{",d+=A,d+="}"),d},toContinued:function(){var p,m=this.n,d=this.d,E=[];if(isNaN(m)||isNaN(d))return E;do E.push(Math.floor(m/d)),p=m%d,m=d,d=p;while(m!==1);return E},toString:function(p){var m=this.n,d=this.d;if(isNaN(m)||isNaN(d))return"NaN";p=p||15;var E=o(m,d),A=a(m,d,E),F=this.s<0?"-":"";if(F+=m/d|0,m%=d,m*=10,m&&(F+="."),E){for(var C=A;C--;)F+=m/d|0,m%=d,m*=10;F+="(";for(var C=E;C--;)F+=m/d|0,m%=d,m*=10;F+=")"}else for(var C=p;m&&C--;)F+=m/d|0,m%=d,m*=10;return F}},Object.defineProperty(D,"__esModule",{value:!0}),D.default=D,D.Fraction=D,e.exports=D})()})(Hn);var Ga=Hn.exports;const Ke=Zn(Ga);var Xa="Fraction",Ka=[],Qa=G(Xa,Ka,()=>(Object.defineProperty(Ke,"name",{value:"Fraction"}),Ke.prototype.constructor=Ke,Ke.prototype.type="Fraction",Ke.prototype.isFraction=!0,Ke.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ke.fromJSON=function(e){return new Ke(e)},Ke),{isClass:!0}),ja="Matrix",ka=[],eo=G(ja,ka,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,n,u){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,n,u){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Jn(e){return Object.keys(e.signatures||{}).reduce(function(r,n){var u=(n.match(/,/g)||[]).length+1;return Math.max(r,u)},-1)}var ro="DenseMatrix",to=["Matrix"],no=G(ro,to,e=>{var{Matrix:r}=e;function n(o,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!We(a))throw new Error("Invalid datatype: "+a);if(ge(o))o.type==="DenseMatrix"?(this._data=he(o._data),this._size=he(o._size),this._datatype=a||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=a||o._datatype);else if(o&&De(o.data)&&De(o.size))this._data=o.data,this._size=o.size,zt(this._data,this._size),this._datatype=a||o.datatype;else if(De(o))this._data=v(o),this._size=Ie(this._data),zt(this._data,this._size),this._datatype=a;else{if(o)throw new TypeError("Unsupported type of data ("+nr(o)+")");this._data=[],this._size=[0],this._datatype=a}}n.prototype=new r,n.prototype.createDenseMatrix=function(o,a){return new n(o,a)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Pr(this._data,nr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(o,a){return new n(o,a)},n.prototype.subset=function(o,a,f){switch(arguments.length){case 1:return u(this,o);case 2:case 3:return i(this,o,a,f);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(o){if(!De(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new k(o.length,this._size.length);for(var a=0;a<o.length;a++)pe(o[a],this._size[a]);for(var f=this._data,D=0,w=o.length;D<w;D++){var c=o[D];pe(c,f.length),f=f[c]}return f},n.prototype.set=function(o,a,f){if(!De(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new k(o.length,this._size.length,"<");var D,w,c,g=o.map(function(m){return m+1});h(this,g,f);var p=this._data;for(D=0,w=o.length-1;D<w;D++)c=o[D],pe(c,p.length),p=p[c];return c=o[o.length-1],pe(c,p.length),p[c]=a,this};function u(o,a){if(!gt(a))throw new TypeError("Invalid index");var f=a.isScalar();if(f)return o.get(a.min());var D=a.size();if(D.length!==o._size.length)throw new k(D.length,o._size.length);for(var w=a.min(),c=a.max(),g=0,p=o._size.length;g<p;g++)pe(w[g],o._size[g]),pe(c[g],o._size[g]);return new n(t(o._data,a,D.length,0),o._datatype)}function t(o,a,f,D){var w=D===f-1,c=a.dimension(D);return w?c.map(function(g){return pe(g,o.length),o[g]}).valueOf():c.map(function(g){pe(g,o.length);var p=o[g];return t(p,a,f,D+1)}).valueOf()}function i(o,a,f,D){if(!a||a.isIndex!==!0)throw new TypeError("Invalid index");var w=a.size(),c=a.isScalar(),g;if(ge(f)?(g=f.size(),f=f.valueOf()):g=Ie(f),c){if(g.length!==0)throw new TypeError("Scalar expected");o.set(a.min(),f,D)}else{if(!pr(g,w))try{g.length===0?f=Ot([f],w):f=Ot(f,w),g=Ie(f)}catch{}if(w.length<o._size.length)throw new k(w.length,o._size.length,"<");if(g.length<w.length){for(var p=0,m=0;w[p]===1&&g[p]===1;)p++;for(;w[p]===1;)m++,p++;f=Cn(f,w.length,m,g)}if(!pr(w,g))throw new k(w,g,">");var d=a.max().map(function(F){return F+1});h(o,d,D);var E=w.length,A=0;s(o._data,a,f,E,A)}return o}function s(o,a,f,D,w){var c=w===D-1,g=a.dimension(w);c?g.forEach(function(p,m){pe(p),o[p]=f[m[0]]}):g.forEach(function(p,m){pe(p),s(o[p],a,f[m[0]],D,w+1)})}n.prototype.resize=function(o,a,f){if(!Cr(o))throw new TypeError("Array or Matrix expected");var D=o.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),w=f?this.clone():this;return l(w,D,a)};function l(o,a,f){if(a.length===0){for(var D=o._data;De(D);)D=D[0];return D}return o._size=a.slice(0),o._data=Ir(o._data,o._size,f),o}n.prototype.reshape=function(o,a){var f=a?this.clone():this;f._data=En(f._data,o);var D=f._size.reduce((w,c)=>w*c);return f._size=mt(o,D),f};function h(o,a,f){for(var D=o._size.slice(0),w=!1;D.length<a.length;)D.push(0),w=!0;for(var c=0,g=a.length;c<g;c++)a[c]>D[c]&&(D[c]=a[c],w=!0);w&&l(o,D,f)}n.prototype.clone=function(){var o=new n({data:he(this._data),size:he(this._size),datatype:this._datatype});return o},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(o){var a=this,f=Jn(o),D=function g(p,m){return De(p)?p.map(function(d,E){return g(d,m.concat(E))}):f===1?o(p):f===2?o(p,m):o(p,m,a)},w=D(this._data,[]),c=this._datatype!==void 0?Pr(w,nr):void 0;return new n(w,c)},n.prototype.forEach=function(o){var a=this,f=function D(w,c){De(w)?w.forEach(function(g,p){D(g,c.concat(p))}):o(w,c,a)};f(this._data,[])},n.prototype[Symbol.iterator]=function*(){var o=function*a(f,D){if(De(f))for(var w=0;w<f.length;w++)yield*a(f[w],D.concat(w));else yield{value:f,index:D}};yield*o(this._data,[])},n.prototype.rows=function(){var o=[],a=this.size();if(a.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var D of f)o.push(new n([D],this._datatype));return o},n.prototype.columns=function(){var o=this,a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var D=this._data,w=function(p){var m=D.map(d=>[d[p]]);a.push(new n(m,o._datatype))},c=0;c<f[1];c++)w(c);return a},n.prototype.toArray=function(){return he(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(o){return de(this._data,o)},n.prototype.toString=function(){return de(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(o){if(o){if(_e(o)&&(o=o.toNumber()),!ve(o)||!we(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var a=o>0?o:0,f=o<0?-o:0,D=this._size[0],w=this._size[1],c=Math.min(D-f,w-a),g=[],p=0;p<c;p++)g[p]=this._data[p+f][p+a];return new n({data:g,size:[c],datatype:this._datatype})},n.diagonal=function(o,a,f,D){if(!De(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(C){if(_e(C)&&(C=C.toNumber()),!ve(C)||!we(C)||C<1)throw new Error("Size values must be positive integers");return C}),f){if(_e(f)&&(f=f.toNumber()),!ve(f)||!we(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var w=f>0?f:0,c=f<0?-f:0,g=o[0],p=o[1],m=Math.min(g-c,p-w),d;if(De(a)){if(a.length!==m)throw new Error("Invalid value array length");d=function(_){return a[_]}}else if(ge(a)){var E=a.size();if(E.length!==1||E[0]!==m)throw new Error("Invalid matrix length");d=function(_){return a.get([_])}}else d=function(){return a};D||(D=_e(d(0))?d(0).mul(0):0);var A=[];if(o.length>0){A=Ir(A,o,D);for(var F=0;F<m;F++)A[F+c][F+w]=d(F)}return new n({data:A,size:[g,p]})},n.fromJSON=function(o){return new n(o)},n.prototype.swapRows=function(o,a){if(!ve(o)||!we(o)||!ve(a)||!we(a))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pe(o,this._size[0]),pe(a,this._size[0]),n._swapRows(o,a,this._data),this},n._swapRows=function(o,a,f){var D=f[o];f[o]=f[a],f[a]=D};function v(o){return ge(o)?v(o.valueOf()):De(o)?o.map(v):o}return n},{isClass:!0});function uo(e){var r=e.length,n=e[0].length,u,t,i=[];for(t=0;t<n;t++){var s=[];for(u=0;u<r;u++)s.push(e[u][t]);i.push(s)}return i}function io(e){for(var r=0;r<e.length;r++)if(Cr(e[r]))return!0;return!1}function Wn(e,r){ge(e)&&(e=e.valueOf());for(var n=0,u=e.length;n<u;n++){var t=e[n];Array.isArray(t)?Wn(t,r):r(t)}}function er(e,r,n){return e&&typeof e.map=="function"?e.map(function(u){return er(u,r)}):r(e)}function ao(e,r,n){var u=Array.isArray(e)?Ie(e):e.size();if(r<0||r>=u.length)throw new ar(r,u.length);return ge(e)?e.create(Lr(e.valueOf(),r,n)):Lr(e,r,n)}function Lr(e,r,n){var u,t,i,s;if(r<=0)if(Array.isArray(e[0])){for(s=uo(e),t=[],u=0;u<s.length;u++)t[u]=Lr(s[u],r-1,n);return t}else{for(i=e[0],u=1;u<e.length;u++)i=n(i,e[u]);return i}else{for(t=[],u=0;u<e.length;u++)t[u]=Lr(e[u],r-1,n);return t}}var qt="isInteger",oo=["typed"],so=G(qt,oo,e=>{var{typed:r}=e;return r(qt,{number:we,BigNumber:function(u){return u.isInt()},Fraction:function(u){return u.d===1&&isFinite(u.n)},"Array | Matrix":r.referToSelf(n=>u=>er(u,n))})}),Yn="number",At="number, number";function Gn(e){return Math.abs(e)}Gn.signature=Yn;function Xn(e,r){return e+r}Xn.signature=At;function Kn(e,r){return e-r}Kn.signature=At;function Qn(e,r){return e*r}Qn.signature=At;function jn(e){return-e}jn.signature=Yn;var fo="number";function kn(e){return e===0}kn.signature=fo;var Rt="isZero",co=["typed"],lo=G(Rt,co,e=>{var{typed:r}=e;return r(Rt,{number:kn,BigNumber:function(u){return u.isZero()},Complex:function(u){return u.re===0&&u.im===0},Fraction:function(u){return u.d===1&&u.n===0},Unit:r.referToSelf(n=>u=>r.find(n,u.valueType())(u.value)),"Array | Matrix":r.referToSelf(n=>u=>er(u,n))})});function ho(e,r,n){if(n==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var u=e.minus(r).abs();if(u.isZero())return!0;var t=e.constructor.max(e.abs(),r.abs());return u.lte(t.times(n))}return!1}function vo(e,r,n){return Or(e.re,r.re,n)&&Or(e.im,r.im,n)}var Do=G("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(n=>(u,t)=>{if(!u.equalBase(t))throw new Error("Cannot compare units with different base");return r.find(n,[u.valueType(),t.valueType()])(u.value,t.value)})}}),Zr="equalScalar",po=["typed","config"],go=G(Zr,po,e=>{var{typed:r,config:n}=e,u=Do({typed:r});return r(Zr,{"boolean, boolean":function(i,s){return i===s},"number, number":function(i,s){return Or(i,s,n.epsilon)},"BigNumber, BigNumber":function(i,s){return i.eq(s)||ho(i,s,n.epsilon)},"Fraction, Fraction":function(i,s){return i.equals(s)},"Complex, Complex":function(i,s){return vo(i,s,n.epsilon)}},u)});G(Zr,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Zr,{"number, number":function(t,i){return Or(t,i,n.epsilon)}})});var mo="SparseMatrix",wo=["typed","equalScalar","Matrix"],Ao=G(mo,wo,e=>{var{typed:r,equalScalar:n,Matrix:u}=e;function t(c,g){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!We(g))throw new Error("Invalid datatype: "+g);if(ge(c))i(this,c,g);else if(c&&De(c.index)&&De(c.ptr)&&De(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=g||c.datatype;else if(De(c))s(this,c,g);else{if(c)throw new TypeError("Unsupported type of data ("+nr(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function i(c,g,p){g.type==="SparseMatrix"?(c._values=g._values?he(g._values):void 0,c._index=he(g._index),c._ptr=he(g._ptr),c._size=he(g._size),c._datatype=p||g._datatype):s(c,g.valueOf(),p||g._datatype)}function s(c,g,p){c._values=[],c._index=[],c._ptr=[],c._datatype=p;var m=g.length,d=0,E=n,A=0;if(We(p)&&(E=r.find(n,[p,p])||n,A=r.convert(0,p)),m>0){var F=0;do{c._ptr.push(c._index.length);for(var C=0;C<m;C++){var _=g[C];if(De(_)){if(F===0&&d<_.length&&(d=_.length),F<_.length){var M=_[F];E(M,A)||(c._values.push(M),c._index.push(C))}}else F===0&&d<1&&(d=1),E(_,A)||(c._values.push(_),c._index.push(C))}F++}while(F<d)}c._ptr.push(c._index.length),c._size=[m,d]}t.prototype=new u,t.prototype.createSparseMatrix=function(c,g){return new t(c,g)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return Pr(this._values,nr)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,g){return new t(c,g)},t.prototype.density=function(){var c=this._size[0],g=this._size[1];return c!==0&&g!==0?this._index.length/(c*g):0},t.prototype.subset=function(c,g,p){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,c);case 2:case 3:return h(this,c,g,p);default:throw new SyntaxError("Wrong number of arguments")}};function l(c,g){if(!gt(g))throw new TypeError("Invalid index");var p=g.isScalar();if(p)return c.get(g.min());var m=g.size();if(m.length!==c._size.length)throw new k(m.length,c._size.length);var d,E,A,F,C=g.min(),_=g.max();for(d=0,E=c._size.length;d<E;d++)pe(C[d],c._size[d]),pe(_[d],c._size[d]);var M=c._values,b=c._index,N=c._ptr,S=g.dimension(0),L=g.dimension(1),z=[],q=[];S.forEach(function(J,K){q[J]=K[0],z[J]=!0});var T=M?[]:void 0,W=[],H=[];return L.forEach(function(J){for(H.push(W.length),A=N[J],F=N[J+1];A<F;A++)d=b[A],z[d]===!0&&(W.push(q[d]),T&&T.push(M[A]))}),H.push(W.length),new t({values:T,index:W,ptr:H,size:m,datatype:c._datatype})}function h(c,g,p,m){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var d=g.size(),E=g.isScalar(),A;if(ge(p)?(A=p.size(),p=p.toArray()):A=Ie(p),E){if(A.length!==0)throw new TypeError("Scalar expected");c.set(g.min(),p,m)}else{if(d.length!==1&&d.length!==2)throw new k(d.length,c._size.length,"<");if(A.length<d.length){for(var F=0,C=0;d[F]===1&&A[F]===1;)F++;for(;d[F]===1;)C++,F++;p=Cn(p,d.length,C,A)}if(!pr(d,A))throw new k(d,A,">");if(d.length===1){var _=g.dimension(0);_.forEach(function(N,S){pe(N),c.set([N,0],p[S[0]],m)})}else{var M=g.dimension(0),b=g.dimension(1);M.forEach(function(N,S){pe(N),b.forEach(function(L,z){pe(L),c.set([N,L],p[S[0]][z[0]],m)})})}}return c}t.prototype.get=function(c){if(!De(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new k(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=c[0],p=c[1];pe(g,this._size[0]),pe(p,this._size[1]);var m=v(g,this._ptr[p],this._ptr[p+1],this._index);return m<this._ptr[p+1]&&this._index[m]===g?this._values[m]:0},t.prototype.set=function(c,g,p){if(!De(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new k(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var m=c[0],d=c[1],E=this._size[0],A=this._size[1],F=n,C=0;We(this._datatype)&&(F=r.find(n,[this._datatype,this._datatype])||n,C=r.convert(0,this._datatype)),(m>E-1||d>A-1)&&(f(this,Math.max(m+1,E),Math.max(d+1,A),p),E=this._size[0],A=this._size[1]),pe(m,E),pe(d,A);var _=v(m,this._ptr[d],this._ptr[d+1],this._index);return _<this._ptr[d+1]&&this._index[_]===m?F(g,C)?o(_,d,this._values,this._index,this._ptr):this._values[_]=g:F(g,C)||a(_,m,d,g,this._values,this._index,this._ptr),this};function v(c,g,p,m){if(p-g===0)return p;for(var d=g;d<p;d++)if(m[d]===c)return d;return g}function o(c,g,p,m,d){p.splice(c,1),m.splice(c,1);for(var E=g+1;E<d.length;E++)d[E]--}function a(c,g,p,m,d,E,A){d.splice(c,0,m),E.splice(c,0,g);for(var F=p+1;F<A.length;F++)A[F]++}t.prototype.resize=function(c,g,p){if(!Cr(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(m.length!==2)throw new Error("Only two dimensions matrix are supported");m.forEach(function(E){if(!ve(E)||!we(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+de(m)+")")});var d=p?this.clone():this;return f(d,m[0],m[1],g)};function f(c,g,p,m){var d=m||0,E=n,A=0;We(c._datatype)&&(E=r.find(n,[c._datatype,c._datatype])||n,A=r.convert(0,c._datatype),d=r.convert(d,c._datatype));var F=!E(d,A),C=c._size[0],_=c._size[1],M,b,N;if(p>_){for(b=_;b<p;b++)if(c._ptr[b]=c._values.length,F)for(M=0;M<C;M++)c._values.push(d),c._index.push(M);c._ptr[p]=c._values.length}else p<_&&(c._ptr.splice(p+1,_-p),c._values.splice(c._ptr[p],c._values.length),c._index.splice(c._ptr[p],c._index.length));if(_=p,g>C){if(F){var S=0;for(b=0;b<_;b++){c._ptr[b]=c._ptr[b]+S,N=c._ptr[b+1]+S;var L=0;for(M=C;M<g;M++,L++)c._values.splice(N+L,0,d),c._index.splice(N+L,0,M),S++}c._ptr[_]=c._values.length}}else if(g<C){var z=0;for(b=0;b<_;b++){c._ptr[b]=c._ptr[b]-z;var q=c._ptr[b],T=c._ptr[b+1]-z;for(N=q;N<T;N++)M=c._index[N],M>g-1&&(c._values.splice(N,1),c._index.splice(N,1),z++)}c._ptr[b]=c._values.length}return c._size[0]=g,c._size[1]=p,c}t.prototype.reshape=function(c,g){if(!De(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(J){if(!ve(J)||!we(J)||J<=-2||J===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+de(c)+")")});var p=this._size[0]*this._size[1];c=mt(c,p);var m=c[0]*c[1];if(p!==m)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var d=g?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return d;for(var E=[],A=0;A<d._ptr.length;A++)for(var F=0;F<d._ptr[A+1]-d._ptr[A];F++)E.push(A);for(var C=d._values.slice(),_=d._index.slice(),M=0;M<d._index.length;M++){var b=_[M],N=E[M],S=b*d._size[1]+N;E[M]=S%c[1],_[M]=Math.floor(S/c[1])}d._values.length=0,d._index.length=0,d._ptr.length=c[1]+1,d._size=c.slice();for(var L=0;L<d._ptr.length;L++)d._ptr[L]=0;for(var z=0;z<C.length;z++){var q=_[z],T=E[z],W=C[z],H=v(q,d._ptr[T],d._ptr[T+1],d._index);a(H,q,T,W,d._values,d._index,d._ptr)}return d},t.prototype.clone=function(){var c=new t({values:this._values?he(this._values):void 0,index:he(this._index),ptr:he(this._ptr),size:he(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var p=this,m=this._size[0],d=this._size[1],E=Jn(c),A=function(C,_,M){return E===1?c(C):E===2?c(C,[_,M]):c(C,[_,M],p)};return D(this,0,m-1,0,d-1,A,g)};function D(c,g,p,m,d,E,A){var F=[],C=[],_=[],M=n,b=0;We(c._datatype)&&(M=r.find(n,[c._datatype,c._datatype])||n,b=r.convert(0,c._datatype));for(var N=function(j,Ae,me){j=E(j,Ae,me),M(j,b)||(F.push(j),C.push(Ae))},S=m;S<=d;S++){_.push(F.length);var L=c._ptr[S],z=c._ptr[S+1];if(A)for(var q=L;q<z;q++){var T=c._index[q];T>=g&&T<=p&&N(c._values[q],T-g,S-m)}else{for(var W={},H=L;H<z;H++){var J=c._index[H];W[J]=c._values[H]}for(var K=g;K<=p;K++){var ne=K in W?W[K]:0;N(ne,K-g,S-m)}}}return _.push(F.length),new t({values:F,index:C,ptr:_,size:[p-g+1,d-m+1]})}t.prototype.forEach=function(c,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var p=this,m=this._size[0],d=this._size[1],E=0;E<d;E++){var A=this._ptr[E],F=this._ptr[E+1];if(g)for(var C=A;C<F;C++){var _=this._index[C];c(this._values[C],[_,E],p)}else{for(var M={},b=A;b<F;b++){var N=this._index[b];M[N]=this._values[b]}for(var S=0;S<m;S++){var L=S in M?M[S]:0;c(L,[S,E],p)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],g=0;g<c;g++)for(var p=this._ptr[g],m=this._ptr[g+1],d=p;d<m;d++){var E=this._index[d];yield{value:this._values[d],index:[E,g]}}},t.prototype.toArray=function(){return w(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return w(this._values,this._index,this._ptr,this._size,!1)};function w(c,g,p,m,d){var E=m[0],A=m[1],F=[],C,_;for(C=0;C<E;C++)for(F[C]=[],_=0;_<A;_++)F[C][_]=0;for(_=0;_<A;_++)for(var M=p[_],b=p[_+1],N=M;N<b;N++)C=g[N],F[C][_]=c?d?he(c[N]):c[N]:1;return F}return t.prototype.format=function(c){for(var g=this._size[0],p=this._size[1],m=this.density(),d="Sparse Matrix ["+de(g,c)+" x "+de(p,c)+"] density: "+de(m,c)+`
`,E=0;E<p;E++)for(var A=this._ptr[E],F=this._ptr[E+1],C=A;C<F;C++){var _=this._index[C];d+=`
    (`+de(_,c)+", "+de(E,c)+") ==> "+(this._values?de(this._values[C],c):"X")}return d},t.prototype.toString=function(){return de(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(_e(c)&&(c=c.toNumber()),!ve(c)||!we(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var g=c>0?c:0,p=c<0?-c:0,m=this._size[0],d=this._size[1],E=Math.min(m-p,d-g),A=[],F=[],C=[];C[0]=0;for(var _=g;_<d&&A.length<E;_++)for(var M=this._ptr[_],b=this._ptr[_+1],N=M;N<b;N++){var S=this._index[N];if(S===_-g+p){A.push(this._values[N]),F[A.length-1]=S-p;break}}return C.push(A.length),new t({values:A,index:F,ptr:C,size:[E,1]})},t.fromJSON=function(c){return new t(c)},t.diagonal=function(c,g,p,m,d){if(!De(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(J){if(_e(J)&&(J=J.toNumber()),!ve(J)||!we(J)||J<1)throw new Error("Size values must be positive integers");return J}),p){if(_e(p)&&(p=p.toNumber()),!ve(p)||!we(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var E=n,A=0;We(d)&&(E=r.find(n,[d,d])||n,A=r.convert(0,d));var F=p>0?p:0,C=p<0?-p:0,_=c[0],M=c[1],b=Math.min(_-C,M-F),N;if(De(g)){if(g.length!==b)throw new Error("Invalid value array length");N=function(K){return g[K]}}else if(ge(g)){var S=g.size();if(S.length!==1||S[0]!==b)throw new Error("Invalid matrix length");N=function(K){return g.get([K])}}else N=function(){return g};for(var L=[],z=[],q=[],T=0;T<M;T++){q.push(L.length);var W=T-F;if(W>=0&&W<b){var H=N(W);E(H,A)||(z.push(W+C),L.push(H))}}return q.push(L.length),new t({values:L,index:z,ptr:q,size:[_,M]})},t.prototype.swapRows=function(c,g){if(!ve(c)||!we(c)||!ve(g)||!we(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pe(c,this._size[0]),pe(g,this._size[0]),t._swapRows(c,g,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(c,g,p,m,d){for(var E=m[c],A=m[c+1],F=E;F<A;F++)d(p[F],g[F])},t._swapRows=function(c,g,p,m,d,E){for(var A=0;A<p;A++){var F=E[A],C=E[A+1],_=v(c,F,C,d),M=v(g,F,C,d);if(_<C&&M<C&&d[_]===c&&d[M]===g){if(m){var b=m[_];m[_]=m[M],m[M]=b}continue}if(_<C&&d[_]===c&&(M>=C||d[M]!==g)){var N=m?m[_]:void 0;d.splice(M,0,g),m&&m.splice(M,0,N),d.splice(M<=_?_+1:_,1),m&&m.splice(M<=_?_+1:_,1);continue}if(M<C&&d[M]===g&&(_>=C||d[_]!==c)){var S=m?m[M]:void 0;d.splice(_,0,c),m&&m.splice(_,0,S),d.splice(_<=M?M+1:M,1),m&&m.splice(_<=M?M+1:M,1)}}},t},{isClass:!0}),Fo="number",Eo=["typed"];function yo(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var n={"0b":2,"0o":8,"0x":16}[r[1]],u=r[2],t=r[3];return{input:e,radix:n,integerPart:u,fractionalPart:t}}else return null}function Co(e){for(var r=parseInt(e.integerPart,e.radix),n=0,u=0;u<e.fractionalPart.length;u++){var t=parseInt(e.fractionalPart[u],e.radix);n+=t/Math.pow(e.radix,u+1)}var i=r+n;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is no valid number');return i}var _o=G(Fo,Eo,e=>{var{typed:r}=e,n=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var i=yo(t);if(i)return Co(i);var s=0,l=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(s=Number(l[2]),t=l[1]);var h=Number(t);if(isNaN(h))throw new SyntaxError('String "'+t+'" is no valid number');if(l){if(h>2**s-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));h>=2**(s-1)&&(h=h-2**s)}return h},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:r.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),null:function(t){return 0},"Unit, string | Unit":function(t,i){return t.toNumber(i)},"Array | Matrix":r.referToSelf(u=>t=>er(t,u))});return n.fromJSON=function(u){return parseFloat(u.value)},n}),Bo="bignumber",Mo=["typed","BigNumber"],No=G(Bo,Mo,e=>{var{typed:r,BigNumber:n}=e;return r("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var i=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var s=i[2],l=n(i[1]),h=new n(2).pow(Number(s));if(l.gt(h.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var v=new n(2).pow(Number(s)-1);return l.gte(v)?l.sub(h):l}return new n(t)},BigNumber:function(t){return t},Unit:r.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":r.referToSelf(u=>t=>er(t,u))})}),So="fraction",bo=["typed","Fraction"],xo=G(So,bo,e=>{var{typed:r,Fraction:n}=e;return r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,i){return new n(t,i)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:r.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),Object:function(t){return new n(t)},"Array | Matrix":r.referToSelf(u=>t=>er(t,u))})}),Ut="matrix",To=["typed","Matrix","DenseMatrix","SparseMatrix"],zo=G(Ut,To,e=>{var{typed:r,Matrix:n,DenseMatrix:u,SparseMatrix:t}=e;return r(Ut,{"":function(){return i([])},string:function(l){return i([],l)},"string, string":function(l,h){return i([],l,h)},Array:function(l){return i(l)},Matrix:function(l){return i(l,l.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(s,l,h){if(l==="dense"||l==="default"||l===void 0)return new u(s,h);if(l==="sparse")return new t(s,h);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),Lt="unaryMinus",Oo=["typed"],Io=G(Lt,Oo,e=>{var{typed:r}=e;return r(Lt,{number:jn,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:r.referToSelf(n=>u=>{var t=u.clone();return t.value=r.find(n,t.valueType())(u.value),t}),"Array | Matrix":r.referToSelf(n=>u=>er(u,n))})}),Zt="abs",Po=["typed"],$o=G(Zt,Po,e=>{var{typed:r}=e;return r(Zt,{number:Gn,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":r.referToSelf(n=>u=>er(u,n))})}),Vt="addScalar",qo=["typed"],Ro=G(Vt,qo,e=>{var{typed:r}=e;return r(Vt,{"number, number":Xn,"Complex, Complex":function(u,t){return u.add(t)},"BigNumber, BigNumber":function(u,t){return u.plus(t)},"Fraction, Fraction":function(u,t){return u.add(t)},"Unit, Unit":r.referToSelf(n=>(u,t)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(t))throw new Error("Units do not match");var i=u.clone();return i.value=r.find(n,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),Ht="subtractScalar",Uo=["typed"],Lo=G(Ht,Uo,e=>{var{typed:r}=e;return r(Ht,{"number, number":Kn,"Complex, Complex":function(u,t){return u.sub(t)},"BigNumber, BigNumber":function(u,t){return u.minus(t)},"Fraction, Fraction":function(u,t){return u.sub(t)},"Unit, Unit":r.referToSelf(n=>(u,t)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(t))throw new Error("Units do not match");var i=u.clone();return i.value=r.find(n,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),Zo="matAlgo11xS0s",Vo=["typed","equalScalar"],Kr=G(Zo,Vo,e=>{var{typed:r,equalScalar:n}=e;return function(t,i,s,l){var h=t._values,v=t._index,o=t._ptr,a=t._size,f=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=a[0],w=a[1],c,g=n,p=0,m=s;typeof f=="string"&&(c=f,g=r.find(n,[c,c]),p=r.convert(0,c),i=r.convert(i,c),m=r.find(s,[c,c]));for(var d=[],E=[],A=[],F=0;F<w;F++){A[F]=E.length;for(var C=o[F],_=o[F+1],M=C;M<_;M++){var b=v[M],N=l?m(i,h[M]):m(h[M],i);g(N,p)||(E.push(b),d.push(N))}}return A[w]=E.length,t.createSparseMatrix({values:d,index:E,ptr:A,size:[D,w],datatype:c})}}),Ho="matAlgo12xSfs",Jo=["typed","DenseMatrix"],eu=G(Ho,Jo,e=>{var{typed:r,DenseMatrix:n}=e;return function(t,i,s,l){var h=t._values,v=t._index,o=t._ptr,a=t._size,f=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=a[0],w=a[1],c,g=s;typeof f=="string"&&(c=f,i=r.convert(i,c),g=r.find(s,[c,c]));for(var p=[],m=[],d=[],E=0;E<w;E++){for(var A=E+1,F=o[E],C=o[E+1],_=F;_<C;_++){var M=v[_];m[M]=h[_],d[M]=A}for(var b=0;b<D;b++)E===0&&(p[b]=[]),d[b]===A?p[b][E]=l?g(i,m[b]):g(m[b],i):p[b][E]=l?g(i,0):g(0,i)}return new n({data:p,size:[D,w],datatype:c})}}),Wo="matAlgo14xDs",Yo=["typed"],Ft=G(Wo,Yo,e=>{var{typed:r}=e;return function(t,i,s,l){var h=t._data,v=t._size,o=t._datatype,a,f=s;typeof o=="string"&&(a=o,i=r.convert(i,a),f=r.find(s,[a,a]));var D=v.length>0?n(f,0,v,v[0],h,i,l):[];return t.createDenseMatrix({data:D,size:he(v),datatype:a})};function n(u,t,i,s,l,h,v){var o=[];if(t===i.length-1)for(var a=0;a<s;a++)o[a]=v?u(h,l[a]):u(l[a],h);else for(var f=0;f<s;f++)o[f]=n(u,t+1,i,i[t+1],l[f],h,v);return o}}),Go="matAlgo02xDS0",Xo=["typed","equalScalar"],ru=G(Go,Xo,e=>{var{typed:r,equalScalar:n}=e;return function(t,i,s,l){var h=t._data,v=t._size,o=t._datatype,a=i._values,f=i._index,D=i._ptr,w=i._size,c=i._datatype;if(v.length!==w.length)throw new k(v.length,w.length);if(v[0]!==w[0]||v[1]!==w[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+w+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=v[0],p=v[1],m,d=n,E=0,A=s;typeof o=="string"&&o===c&&(m=o,d=r.find(n,[m,m]),E=r.convert(0,m),A=r.find(s,[m,m]));for(var F=[],C=[],_=[],M=0;M<p;M++){_[M]=C.length;for(var b=D[M],N=D[M+1],S=b;S<N;S++){var L=f[S],z=l?A(a[S],h[L][M]):A(h[L][M],a[S]);d(z,E)||(C.push(L),F.push(z))}}return _[p]=C.length,i.createSparseMatrix({values:F,index:C,ptr:_,size:[g,p],datatype:m})}}),Ko="matAlgo03xDSf",Qo=["typed"],tu=G(Ko,Qo,e=>{var{typed:r}=e;return function(u,t,i,s){var l=u._data,h=u._size,v=u._datatype,o=t._values,a=t._index,f=t._ptr,D=t._size,w=t._datatype;if(h.length!==D.length)throw new k(h.length,D.length);if(h[0]!==D[0]||h[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+D+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=h[0],g=h[1],p,m=0,d=i;typeof v=="string"&&v===w&&(p=v,m=r.convert(0,p),d=r.find(i,[p,p]));for(var E=[],A=0;A<c;A++)E[A]=[];for(var F=[],C=[],_=0;_<g;_++){for(var M=_+1,b=f[_],N=f[_+1],S=b;S<N;S++){var L=a[S];F[L]=s?d(o[S],l[L][_]):d(l[L][_],o[S]),C[L]=M}for(var z=0;z<c;z++)C[z]===M?E[z][_]=F[z]:E[z][_]=s?d(m,l[z][_]):d(l[z][_],m)}return u.createDenseMatrix({data:E,size:[c,g],datatype:p})}}),jo="matAlgo05xSfSf",ko=["typed","equalScalar"],es=G(jo,ko,e=>{var{typed:r,equalScalar:n}=e;return function(t,i,s){var l=t._values,h=t._index,v=t._ptr,o=t._size,a=t._datatype,f=i._values,D=i._index,w=i._ptr,c=i._size,g=i._datatype;if(o.length!==c.length)throw new k(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var p=o[0],m=o[1],d,E=n,A=0,F=s;typeof a=="string"&&a===g&&(d=a,E=r.find(n,[d,d]),A=r.convert(0,d),F=r.find(s,[d,d]));var C=l&&f?[]:void 0,_=[],M=[],b=C?[]:void 0,N=C?[]:void 0,S=[],L=[],z,q,T,W;for(q=0;q<m;q++){M[q]=_.length;var H=q+1;for(T=v[q],W=v[q+1];T<W;T++)z=h[T],_.push(z),S[z]=H,b&&(b[z]=l[T]);for(T=w[q],W=w[q+1];T<W;T++)z=D[T],S[z]!==H&&_.push(z),L[z]=H,N&&(N[z]=f[T]);if(C)for(T=M[q];T<_.length;){z=_[T];var J=S[z],K=L[z];if(J===H||K===H){var ne=J===H?b[z]:A,ee=K===H?N[z]:A,j=F(ne,ee);E(j,A)?_.splice(T,1):(C.push(j),T++)}}}return M[m]=_.length,t.createSparseMatrix({values:C,index:_,ptr:M,size:[p,m],datatype:d})}}),rs="matAlgo13xDD",ts=["typed"],ns=G(rs,ts,e=>{var{typed:r}=e;return function(t,i,s){var l=t._data,h=t._size,v=t._datatype,o=i._data,a=i._size,f=i._datatype,D=[];if(h.length!==a.length)throw new k(h.length,a.length);for(var w=0;w<h.length;w++){if(h[w]!==a[w])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+a+")");D[w]=h[w]}var c,g=s;typeof v=="string"&&v===f&&(c=v,g=r.find(s,[c,c]));var p=D.length>0?n(g,0,D,D[0],l,o):[];return t.createDenseMatrix({data:p,size:D,datatype:c})};function n(u,t,i,s,l,h){var v=[];if(t===i.length-1)for(var o=0;o<s;o++)v[o]=u(l[o],h[o]);else for(var a=0;a<s;a++)v[a]=n(u,t+1,i,i[t+1],l[a],h[a]);return v}}),us="broadcast",is=["concat"],as=G(us,is,e=>{var{concat:r}=e;return function(t,i){var s=Math.max(t._size.length,i._size.length);if(t._size.length===i._size.length&&t._size.every((w,c)=>w===i._size[c]))return[t,i];for(var l=n(t._size,s,0),h=n(i._size,s,0),v=[],o=0;o<s;o++)v[o]=Math.max(l[o],h[o]);$r(l,v),$r(h,v);var a=t.clone(),f=i.clone();a._size.length<s?a.reshape(n(a._size,s,1)):f._size.length<s&&f.reshape(n(f._size,s,1));for(var D=0;D<s;D++)a._size[D]<v[D]&&(a=u(a,v[D],D)),f._size[D]<v[D]&&(f=u(f,v[D],D));return[a,f]};function n(t,i,s){return[...Array(i-t.length).fill(s),...t]}function u(t,i,s){return r(...Array(i).fill(t),s)}}),os="matrixAlgorithmSuite",ss=["typed","matrix","concat"],Qr=G(os,ss,e=>{var{typed:r,matrix:n,concat:u}=e,t=ns({typed:r}),i=Ft({typed:r}),s=as({concat:u});return function(h){var v=h.elop,o=h.SD||h.DS,a;v?(a={"DenseMatrix, DenseMatrix":(c,g)=>t(...s(c,g),v),"Array, Array":(c,g)=>t(...s(n(c),n(g)),v).valueOf(),"Array, DenseMatrix":(c,g)=>t(...s(n(c),g),v),"DenseMatrix, Array":(c,g)=>t(...s(c,n(g)),v)},h.SS&&(a["SparseMatrix, SparseMatrix"]=(c,g)=>h.SS(...s(c,g),v,!1)),h.DS&&(a["DenseMatrix, SparseMatrix"]=(c,g)=>h.DS(...s(c,g),v,!1),a["Array, SparseMatrix"]=(c,g)=>h.DS(...s(n(c),g),v,!1)),o&&(a["SparseMatrix, DenseMatrix"]=(c,g)=>o(...s(g,c),v,!0),a["SparseMatrix, Array"]=(c,g)=>o(...s(n(g),c),v,!0))):(a={"DenseMatrix, DenseMatrix":r.referToSelf(c=>(g,p)=>t(...s(g,p),c)),"Array, Array":r.referToSelf(c=>(g,p)=>t(...s(n(g),n(p)),c).valueOf()),"Array, DenseMatrix":r.referToSelf(c=>(g,p)=>t(...s(n(g),p),c)),"DenseMatrix, Array":r.referToSelf(c=>(g,p)=>t(...s(g,n(p)),c))},h.SS&&(a["SparseMatrix, SparseMatrix"]=r.referToSelf(c=>(g,p)=>h.SS(...s(g,p),c,!1))),h.DS&&(a["DenseMatrix, SparseMatrix"]=r.referToSelf(c=>(g,p)=>h.DS(...s(g,p),c,!1)),a["Array, SparseMatrix"]=r.referToSelf(c=>(g,p)=>h.DS(...s(n(g),p),c,!1))),o&&(a["SparseMatrix, DenseMatrix"]=r.referToSelf(c=>(g,p)=>o(...s(p,g),c,!0)),a["SparseMatrix, Array"]=r.referToSelf(c=>(g,p)=>o(...s(n(p),g),c,!0))));var f=h.scalar||"any",D=h.Ds||h.Ss;D&&(v?(a["DenseMatrix,"+f]=(c,g)=>i(c,g,v,!1),a[f+", DenseMatrix"]=(c,g)=>i(g,c,v,!0),a["Array,"+f]=(c,g)=>i(n(c),g,v,!1).valueOf(),a[f+", Array"]=(c,g)=>i(n(g),c,v,!0).valueOf()):(a["DenseMatrix,"+f]=r.referToSelf(c=>(g,p)=>i(g,p,c,!1)),a[f+", DenseMatrix"]=r.referToSelf(c=>(g,p)=>i(p,g,c,!0)),a["Array,"+f]=r.referToSelf(c=>(g,p)=>i(n(g),p,c,!1).valueOf()),a[f+", Array"]=r.referToSelf(c=>(g,p)=>i(n(p),g,c,!0).valueOf())));var w=h.sS!==void 0?h.sS:h.Ss;return v?(h.Ss&&(a["SparseMatrix,"+f]=(c,g)=>h.Ss(c,g,v,!1)),w&&(a[f+", SparseMatrix"]=(c,g)=>w(g,c,v,!0))):(h.Ss&&(a["SparseMatrix,"+f]=r.referToSelf(c=>(g,p)=>h.Ss(g,p,c,!1))),w&&(a[f+", SparseMatrix"]=r.referToSelf(c=>(g,p)=>w(p,g,c,!0)))),v&&v.signatures&&gn(a,v.signatures),a}}),fs="matAlgo01xDSid",cs=["typed"],nu=G(fs,cs,e=>{var{typed:r}=e;return function(u,t,i,s){var l=u._data,h=u._size,v=u._datatype,o=t._values,a=t._index,f=t._ptr,D=t._size,w=t._datatype;if(h.length!==D.length)throw new k(h.length,D.length);if(h[0]!==D[0]||h[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+D+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c=h[0],g=h[1],p=typeof v=="string"&&v===w?v:void 0,m=p?r.find(i,[p,p]):i,d,E,A=[];for(d=0;d<c;d++)A[d]=[];var F=[],C=[];for(E=0;E<g;E++){for(var _=E+1,M=f[E],b=f[E+1],N=M;N<b;N++)d=a[N],F[d]=s?m(o[N],l[d][E]):m(l[d][E],o[N]),C[d]=_;for(d=0;d<c;d++)C[d]===_?A[d][E]=F[d]:A[d][E]=l[d][E]}return u.createDenseMatrix({data:A,size:[c,g],datatype:p})}}),ls="matAlgo04xSidSid",hs=["typed","equalScalar"],vs=G(ls,hs,e=>{var{typed:r,equalScalar:n}=e;return function(t,i,s){var l=t._values,h=t._index,v=t._ptr,o=t._size,a=t._datatype,f=i._values,D=i._index,w=i._ptr,c=i._size,g=i._datatype;if(o.length!==c.length)throw new k(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var p=o[0],m=o[1],d,E=n,A=0,F=s;typeof a=="string"&&a===g&&(d=a,E=r.find(n,[d,d]),A=r.convert(0,d),F=r.find(s,[d,d]));var C=l&&f?[]:void 0,_=[],M=[],b=l&&f?[]:void 0,N=l&&f?[]:void 0,S=[],L=[],z,q,T,W,H;for(q=0;q<m;q++){M[q]=_.length;var J=q+1;for(W=v[q],H=v[q+1],T=W;T<H;T++)z=h[T],_.push(z),S[z]=J,b&&(b[z]=l[T]);for(W=w[q],H=w[q+1],T=W;T<H;T++)if(z=D[T],S[z]===J){if(b){var K=F(b[z],f[T]);E(K,A)?S[z]=null:b[z]=K}}else _.push(z),L[z]=J,N&&(N[z]=f[T]);if(b&&N)for(T=M[q];T<_.length;)z=_[T],S[z]===J?(C[T]=b[z],T++):L[z]===J?(C[T]=N[z],T++):_.splice(T,1)}return M[m]=_.length,t.createSparseMatrix({values:C,index:_,ptr:M,size:[p,m],datatype:d})}}),Ds="matAlgo10xSids",ps=["typed","DenseMatrix"],uu=G(Ds,ps,e=>{var{typed:r,DenseMatrix:n}=e;return function(t,i,s,l){var h=t._values,v=t._index,o=t._ptr,a=t._size,f=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=a[0],w=a[1],c,g=s;typeof f=="string"&&(c=f,i=r.convert(i,c),g=r.find(s,[c,c]));for(var p=[],m=[],d=[],E=0;E<w;E++){for(var A=E+1,F=o[E],C=o[E+1],_=F;_<C;_++){var M=v[_];m[M]=h[_],d[M]=A}for(var b=0;b<D;b++)E===0&&(p[b]=[]),d[b]===A?p[b][E]=l?g(i,m[b]):g(m[b],i):p[b][E]=i}return new n({data:p,size:[D,w],datatype:c})}}),ds="multiplyScalar",gs=["typed"],ms=G(ds,gs,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":Qn,"Complex, Complex":function(u,t){return u.mul(t)},"BigNumber, BigNumber":function(u,t){return u.times(t)},"Fraction, Fraction":function(u,t){return u.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,u)=>u.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,u)=>n.multiply(u)})}),Jt="multiply",ws=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],As=G(Jt,ws,e=>{var{typed:r,matrix:n,addScalar:u,multiplyScalar:t,equalScalar:i,dot:s}=e,l=Kr({typed:r,equalScalar:i}),h=Ft({typed:r});function v(A,F){switch(A.length){case 1:switch(F.length){case 1:if(A[0]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(A[0]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+A[0]+") must match Matrix rows ("+F[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+F.length+" dimensions)")}break;case 2:switch(F.length){case 1:if(A[1]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+A[1]+") must match Vector length ("+F[0]+")");break;case 2:if(A[1]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+A[1]+") must match Matrix B rows ("+F[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+F.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+A.length+" dimensions)")}}function o(A,F,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return s(A,F)}function a(A,F){if(F.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(A,F)}function f(A,F){var C=A._data,_=A._size,M=A._datatype,b=F._data,N=F._size,S=F._datatype,L=_[0],z=N[1],q,T=u,W=t;M&&S&&M===S&&typeof M=="string"&&(q=M,T=r.find(u,[q,q]),W=r.find(t,[q,q]));for(var H=[],J=0;J<z;J++){for(var K=W(C[0],b[0][J]),ne=1;ne<L;ne++)K=T(K,W(C[ne],b[ne][J]));H[J]=K}return A.createDenseMatrix({data:H,size:[z],datatype:q})}var D=r("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":m}),w=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":p,"SparseMatrix, DenseMatrix":d,"SparseMatrix, SparseMatrix":E});function c(A,F){var C=A._data,_=A._size,M=A._datatype,b=F._data,N=F._datatype,S=_[0],L=_[1],z,q=u,T=t;M&&N&&M===N&&typeof M=="string"&&(z=M,q=r.find(u,[z,z]),T=r.find(t,[z,z]));for(var W=[],H=0;H<S;H++){for(var J=C[H],K=T(J[0],b[0]),ne=1;ne<L;ne++)K=q(K,T(J[ne],b[ne]));W[H]=K}return A.createDenseMatrix({data:W,size:[S],datatype:z})}function g(A,F){var C=A._data,_=A._size,M=A._datatype,b=F._data,N=F._size,S=F._datatype,L=_[0],z=_[1],q=N[1],T,W=u,H=t;M&&S&&M===S&&typeof M=="string"&&(T=M,W=r.find(u,[T,T]),H=r.find(t,[T,T]));for(var J=[],K=0;K<L;K++){var ne=C[K];J[K]=[];for(var ee=0;ee<q;ee++){for(var j=H(ne[0],b[0][ee]),Ae=1;Ae<z;Ae++)j=W(j,H(ne[Ae],b[Ae][ee]));J[K][ee]=j}}return A.createDenseMatrix({data:J,size:[L,q],datatype:T})}function p(A,F){var C=A._data,_=A._size,M=A._datatype,b=F._values,N=F._index,S=F._ptr,L=F._size,z=F._datatype;if(!b)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var q=_[0],T=L[1],W,H=u,J=t,K=i,ne=0;M&&z&&M===z&&typeof M=="string"&&(W=M,H=r.find(u,[W,W]),J=r.find(t,[W,W]),K=r.find(i,[W,W]),ne=r.convert(0,W));for(var ee=[],j=[],Ae=[],me=F.createSparseMatrix({values:ee,index:j,ptr:Ae,size:[q,T],datatype:W}),Ee=0;Ee<T;Ee++){Ae[Ee]=j.length;var le=S[Ee],xe=S[Ee+1];if(xe>le)for(var oe=0,ie=0;ie<q;ie++){for(var qe=ie+1,Be=void 0,se=le;se<xe;se++){var Ce=N[se];oe!==qe?(Be=J(C[ie][Ce],b[se]),oe=qe):Be=H(Be,J(C[ie][Ce],b[se]))}oe===qe&&!K(Be,ne)&&(j.push(ie),ee.push(Be))}}return Ae[T]=j.length,me}function m(A,F){var C=A._values,_=A._index,M=A._ptr,b=A._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=F._data,S=F._datatype,L=A._size[0],z=F._size[0],q=[],T=[],W=[],H,J=u,K=t,ne=i,ee=0;b&&S&&b===S&&typeof b=="string"&&(H=b,J=r.find(u,[H,H]),K=r.find(t,[H,H]),ne=r.find(i,[H,H]),ee=r.convert(0,H));var j=[],Ae=[];W[0]=0;for(var me=0;me<z;me++){var Ee=N[me];if(!ne(Ee,ee))for(var le=M[me],xe=M[me+1],oe=le;oe<xe;oe++){var ie=_[oe];Ae[ie]?j[ie]=J(j[ie],K(Ee,C[oe])):(Ae[ie]=!0,T.push(ie),j[ie]=K(Ee,C[oe]))}}for(var qe=T.length,Be=0;Be<qe;Be++){var se=T[Be];q[Be]=j[se]}return W[1]=T.length,A.createSparseMatrix({values:q,index:T,ptr:W,size:[L,1],datatype:H})}function d(A,F){var C=A._values,_=A._index,M=A._ptr,b=A._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=F._data,S=F._datatype,L=A._size[0],z=F._size[0],q=F._size[1],T,W=u,H=t,J=i,K=0;b&&S&&b===S&&typeof b=="string"&&(T=b,W=r.find(u,[T,T]),H=r.find(t,[T,T]),J=r.find(i,[T,T]),K=r.convert(0,T));for(var ne=[],ee=[],j=[],Ae=A.createSparseMatrix({values:ne,index:ee,ptr:j,size:[L,q],datatype:T}),me=[],Ee=[],le=0;le<q;le++){j[le]=ee.length;for(var xe=le+1,oe=0;oe<z;oe++){var ie=N[oe][le];if(!J(ie,K))for(var qe=M[oe],Be=M[oe+1],se=qe;se<Be;se++){var Ce=_[se];Ee[Ce]!==xe?(Ee[Ce]=xe,ee.push(Ce),me[Ce]=H(ie,C[se])):me[Ce]=W(me[Ce],H(ie,C[se]))}}for(var Re=j[le],Ge=ee.length,Xe=Re;Xe<Ge;Xe++){var fr=ee[Xe];ne[Xe]=me[fr]}}return j[q]=ee.length,Ae}function E(A,F){var C=A._values,_=A._index,M=A._ptr,b=A._datatype,N=F._values,S=F._index,L=F._ptr,z=F._datatype,q=A._size[0],T=F._size[1],W=C&&N,H,J=u,K=t;b&&z&&b===z&&typeof b=="string"&&(H=b,J=r.find(u,[H,H]),K=r.find(t,[H,H]));for(var ne=W?[]:void 0,ee=[],j=[],Ae=A.createSparseMatrix({values:ne,index:ee,ptr:j,size:[q,T],datatype:H}),me=W?[]:void 0,Ee=[],le,xe,oe,ie,qe,Be,se,Ce,Re=0;Re<T;Re++){j[Re]=ee.length;var Ge=Re+1;for(qe=L[Re],Be=L[Re+1],ie=qe;ie<Be;ie++)if(Ce=S[ie],W)for(xe=M[Ce],oe=M[Ce+1],le=xe;le<oe;le++)se=_[le],Ee[se]!==Ge?(Ee[se]=Ge,ee.push(se),me[se]=K(N[ie],C[le])):me[se]=J(me[se],K(N[ie],C[le]));else for(xe=M[Ce],oe=M[Ce+1],le=xe;le<oe;le++)se=_[le],Ee[se]!==Ge&&(Ee[se]=Ge,ee.push(se));if(W)for(var Xe=j[Re],fr=ee.length,cr=Xe;cr<fr;cr++){var rt=ee[cr];ne[cr]=me[rt]}}return j[T]=ee.length,Ae}return r(Jt,t,{"Array, Array":r.referTo("Matrix, Matrix",A=>(F,C)=>{v(Ie(F),Ie(C));var _=A(n(F),n(C));return ge(_)?_.valueOf():_}),"Matrix, Matrix":function(F,C){var _=F.size(),M=C.size();return v(_,M),_.length===1?M.length===1?o(F,C,_[0]):a(F,C):M.length===1?D(F,C):w(F,C)},"Matrix, Array":r.referTo("Matrix,Matrix",A=>(F,C)=>A(F,n(C))),"Array, Matrix":r.referToSelf(A=>(F,C)=>A(n(F,C.storage()),C)),"SparseMatrix, any":function(F,C){return l(F,C,t,!1)},"DenseMatrix, any":function(F,C){return h(F,C,t,!1)},"any, SparseMatrix":function(F,C){return l(C,F,t,!0)},"any, DenseMatrix":function(F,C){return h(C,F,t,!0)},"Array, any":function(F,C){return h(n(F),C,t,!1).valueOf()},"any, Array":function(F,C){return h(n(C),F,t,!0).valueOf()},"any, any":t,"any, any, ...any":r.referToSelf(A=>(F,C,_)=>{for(var M=A(F,C),b=0;b<_.length;b++)M=A(M,_[b]);return M})})}),Fs="sqrt",Es=["config","typed","Complex"],ys=G(Fs,Es,e=>{var{config:r,typed:n,Complex:u}=e;return n("sqrt",{number:t,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||r.predictable?s.sqrt():t(s.toNumber())},Unit:function(s){return s.pow(.5)}});function t(i){return isNaN(i)?NaN:i>=0||r.predictable?Math.sqrt(i):new u(i,0).sqrt()}}),Wt="subtract",Cs=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],_s=G(Wt,Cs,e=>{var{typed:r,matrix:n,equalScalar:u,subtractScalar:t,unaryMinus:i,DenseMatrix:s,concat:l}=e,h=nu({typed:r}),v=tu({typed:r}),o=es({typed:r,equalScalar:u}),a=uu({typed:r,DenseMatrix:s}),f=eu({typed:r,DenseMatrix:s}),D=Qr({typed:r,matrix:n,concat:l});return r(Wt,{"any, any":t},D({elop:t,SS:o,DS:h,SD:v,Ss:f,sS:a}))}),Bs="matAlgo09xS0Sf",Ms=["typed","equalScalar"],Ns=G(Bs,Ms,e=>{var{typed:r,equalScalar:n}=e;return function(t,i,s){var l=t._values,h=t._index,v=t._ptr,o=t._size,a=t._datatype,f=i._values,D=i._index,w=i._ptr,c=i._size,g=i._datatype;if(o.length!==c.length)throw new k(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var p=o[0],m=o[1],d,E=n,A=0,F=s;typeof a=="string"&&a===g&&(d=a,E=r.find(n,[d,d]),A=r.convert(0,d),F=r.find(s,[d,d]));var C=l&&f?[]:void 0,_=[],M=[],b=C?[]:void 0,N=[],S,L,z,q,T;for(L=0;L<m;L++){M[L]=_.length;var W=L+1;if(b)for(q=w[L],T=w[L+1],z=q;z<T;z++)S=D[z],N[S]=W,b[S]=f[z];for(q=v[L],T=v[L+1],z=q;z<T;z++)if(S=h[z],b){var H=N[S]===W?b[S]:A,J=F(l[z],H);E(J,A)||(_.push(S),C.push(J))}else _.push(S)}return M[m]=_.length,t.createSparseMatrix({values:C,index:_,ptr:M,size:[p,m],datatype:d})}}),Yt="dotMultiply",Ss=["typed","matrix","equalScalar","multiplyScalar","concat"],bs=G(Yt,Ss,e=>{var{typed:r,matrix:n,equalScalar:u,multiplyScalar:t,concat:i}=e,s=ru({typed:r,equalScalar:u}),l=Ns({typed:r,equalScalar:u}),h=Kr({typed:r,equalScalar:u}),v=Qr({typed:r,matrix:n,concat:i});return r(Yt,v({elop:t,SS:l,DS:s,Ss:h}))}),xs="matAlgo07xSSf",Ts=["typed","DenseMatrix"],zs=G(xs,Ts,e=>{var{typed:r,DenseMatrix:n}=e;return function(i,s,l){var h=i._size,v=i._datatype,o=s._size,a=s._datatype;if(h.length!==o.length)throw new k(h.length,o.length);if(h[0]!==o[0]||h[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+o+")");var f=h[0],D=h[1],w,c=0,g=l;typeof v=="string"&&v===a&&(w=v,c=r.convert(0,w),g=r.find(l,[w,w]));var p,m,d=[];for(p=0;p<f;p++)d[p]=[];var E=[],A=[],F=[],C=[];for(m=0;m<D;m++){var _=m+1;for(u(i,m,F,E,_),u(s,m,C,A,_),p=0;p<f;p++){var M=F[p]===_?E[p]:c,b=C[p]===_?A[p]:c;d[p][m]=g(M,b)}}return new n({data:d,size:[f,D],datatype:w})};function u(t,i,s,l,h){for(var v=t._values,o=t._index,a=t._ptr,f=a[i],D=a[i+1];f<D;f++){var w=o[f];s[w]=h,l[w]=v[f]}}}),Gt="conj",Os=["typed"],Is=G(Gt,Os,e=>{var{typed:r}=e;return r(Gt,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":r.referToSelf(n=>u=>er(u,n))})}),Xt="concat",Ps=["typed","matrix","isInteger"],$s=G(Xt,Ps,e=>{var{typed:r,matrix:n,isInteger:u}=e;return r(Xt,{"...Array | Matrix | number | BigNumber":function(i){var s,l=i.length,h=-1,v,o=!1,a=[];for(s=0;s<l;s++){var f=i[s];if(ge(f)&&(o=!0),ve(f)||_e(f)){if(s!==l-1)throw new Error("Dimension must be specified as last argument");if(v=h,h=f.valueOf(),!u(h))throw new TypeError("Integer number expected for dimension");if(h<0||s>0&&h>v)throw new ar(h,v+1)}else{var D=he(f).valueOf(),w=Ie(D);if(a[s]=D,v=h,h=w.length-1,s>0&&h!==v)throw new k(v+1,h+1)}}if(a.length===0)throw new SyntaxError("At least one matrix expected");for(var c=a.shift();a.length;)c=Mn(c,a.shift(),h);return o?n(c):c},"...string":function(i){return i.join("")}})}),Kt="identity",qs=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Rs=G(Kt,qs,e=>{var{typed:r,config:n,matrix:u,BigNumber:t,DenseMatrix:i,SparseMatrix:s}=e;return r(Kt,{"":function(){return n.matrix==="Matrix"?u([]):[]},string:function(o){return u(o)},"number | BigNumber":function(o){return h(o,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,a){return h(o,o,a)},"number | BigNumber, number | BigNumber":function(o,a){return h(o,a,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,a,f){return h(o,a,f)},Array:function(o){return l(o)},"Array, string":function(o,a){return l(o,a)},Matrix:function(o){return l(o.valueOf(),o.storage())},"Matrix, string":function(o,a){return l(o.valueOf(),a)}});function l(v,o){switch(v.length){case 0:return o?u(o):[];case 1:return h(v[0],v[0],o);case 2:return h(v[0],v[1],o);default:throw new Error("Vector containing two values expected")}}function h(v,o,a){var f=_e(v)||_e(o)?t:null;if(_e(v)&&(v=v.toNumber()),_e(o)&&(o=o.toNumber()),!we(v)||v<1)throw new Error("Parameters in function identity must be positive integers");if(!we(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var D=f?new t(1):1,w=f?new f(0):0,c=[v,o];if(a){if(a==="sparse")return s.diagonal(c,D,0,w);if(a==="dense")return i.diagonal(c,D,0,w);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var g=Ir([],c,w),p=v<o?v:o,m=0;m<p;m++)g[m][m]=D;return g}});function Us(){throw new Error('No "bignumber" implementation available')}function Ls(){throw new Error('No "fraction" implementation available')}function Zs(){throw new Error('No "matrix" implementation available')}var Qt="size",Vs=["typed","config","?matrix"],Hs=G(Qt,Vs,e=>{var{typed:r,config:n,matrix:u}=e;return r(Qt,{Matrix:function(i){return i.create(i.size())},Array:Ie,string:function(i){return n.matrix==="Array"?[i.length]:u([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return n.matrix==="Array"?[]:u?u([]):Zs()}})}),jt="transpose",Js=["typed","matrix"],Ws=G(jt,Js,e=>{var{typed:r,matrix:n}=e;return r(jt,{Array:s=>u(n(s)).valueOf(),Matrix:u,any:he});function u(s){var l=s.size(),h;switch(l.length){case 1:h=s.clone();break;case 2:{var v=l[0],o=l[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+de(l)+")");switch(s.storage()){case"dense":h=t(s,v,o);break;case"sparse":h=i(s,v,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+de(l)+")")}return h}function t(s,l,h){for(var v=s._data,o=[],a,f=0;f<h;f++){a=o[f]=[];for(var D=0;D<l;D++)a[D]=he(v[D][f])}return s.createDenseMatrix({data:o,size:[h,l],datatype:s._datatype})}function i(s,l,h){for(var v=s._values,o=s._index,a=s._ptr,f=v?[]:void 0,D=[],w=[],c=[],g=0;g<l;g++)c[g]=0;var p,m,d;for(p=0,m=o.length;p<m;p++)c[o[p]]++;for(var E=0,A=0;A<l;A++)w.push(E),E+=c[A],c[A]=w[A];for(w.push(E),d=0;d<h;d++)for(var F=a[d],C=a[d+1],_=F;_<C;_++){var M=c[o[_]]++;D[M]=d,v&&(f[M]=he(v[_]))}return s.createSparseMatrix({values:f,index:D,ptr:w,size:[h,l],datatype:s._datatype})}}),kt="zeros",Ys=["typed","config","matrix","BigNumber"],Gs=G(kt,Ys,e=>{var{typed:r,config:n,matrix:u,BigNumber:t}=e;return r(kt,{"":function(){return n.matrix==="Array"?i([]):i([],"default")},"...number | BigNumber | string":function(v){var o=v[v.length-1];if(typeof o=="string"){var a=v.pop();return i(v,a)}else return n.matrix==="Array"?i(v):i(v,"default")},Array:i,Matrix:function(v){var o=v.storage();return i(v.valueOf(),o)},"Array | Matrix, string":function(v,o){return i(v.valueOf(),o)}});function i(h,v){var o=s(h),a=o?new t(0):0;if(l(h),v){var f=u(v);return h.length>0?f.resize(h,a):f}else{var D=[];return h.length>0?Ir(D,h,a):D}}function s(h){var v=!1;return h.forEach(function(o,a,f){_e(o)&&(v=!0,f[a]=o.toNumber())}),v}function l(h){h.forEach(function(v){if(typeof v!="number"||!we(v)||v<0)throw new Error("Parameters in function zeros must be positive integers")})}});function en(e,r,n){var u;return String(e).indexOf("Unexpected type")!==-1?(u=arguments.length>2?" (type: "+nr(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+u)):String(e).indexOf("complex numbers")!==-1?(u=arguments.length>2?" (type: "+nr(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+u)):e}var Xs="numeric",Ks=["number","?bignumber","?fraction"],Qs=G(Xs,Ks,e=>{var{number:r,bignumber:n,fraction:u}=e,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:s=>r(s),BigNumber:n?s=>n(s):Us,Fraction:u?s=>u(s):Ls};return function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",v=arguments.length>2?arguments[2]:void 0;if(v!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=nr(l);if(!(o in t))throw new TypeError("Cannot convert "+l+' of type "'+o+'"; valid input types are '+Object.keys(t).join(", "));if(!(h in i))throw new TypeError("Cannot convert "+l+' to type "'+h+'"; valid output types are '+Object.keys(i).join(", "));return h===o?l:i[h](l)}}),rn="divideScalar",js=["typed","numeric"],ks=G(rn,js,e=>{var{typed:r,numeric:n}=e;return r(rn,{"number, number":function(t,i){return t/i},"Complex, Complex":function(t,i){return t.div(i)},"BigNumber, BigNumber":function(t,i){return t.div(i)},"Fraction, Fraction":function(t,i){return t.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(u,t)=>u.divide(t),"number | Fraction | Complex | BigNumber, Unit":(u,t)=>t.divideInto(u)})}),tn="dotDivide",ef=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],rf=G(tn,ef,e=>{var{typed:r,matrix:n,equalScalar:u,divideScalar:t,DenseMatrix:i,concat:s}=e,l=ru({typed:r,equalScalar:u}),h=tu({typed:r}),v=zs({typed:r,DenseMatrix:i}),o=Kr({typed:r,equalScalar:u}),a=eu({typed:r,DenseMatrix:i}),f=Qr({typed:r,matrix:n,concat:s});return r(tn,f({elop:t,SS:v,DS:h,SD:l,Ss:o,sS:a}))}),nn="add",tf=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],nf=G(nn,tf,e=>{var{typed:r,matrix:n,addScalar:u,equalScalar:t,DenseMatrix:i,SparseMatrix:s,concat:l}=e,h=nu({typed:r}),v=vs({typed:r,equalScalar:t}),o=uu({typed:r,DenseMatrix:i}),a=Qr({typed:r,matrix:n,concat:l});return r(nn,{"any, any":u,"any, any, ...any":r.referToSelf(f=>(D,w,c)=>{for(var g=f(D,w),p=0;p<c.length;p++)g=f(g,c[p]);return g})},a({elop:u,DS:h,SS:v,Ss:o}))}),un="dot",uf=["typed","addScalar","multiplyScalar","conj","size"],af=G(un,uf,e=>{var{typed:r,addScalar:n,multiplyScalar:u,conj:t,size:i}=e;return r(un,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":h});function s(o,a){var f=v(o),D=v(a),w,c;if(f.length===1)w=f[0];else if(f.length===2&&f[1]===1)w=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(D.length===1)c=D[0];else if(D.length===2&&D[1]===1)c=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(w!==c)throw new RangeError("Vectors must have equal length ("+w+" != "+c+")");if(w===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return w}function l(o,a){var f=s(o,a),D=ge(o)?o._data:o,w=ge(o)?o._datatype:void 0,c=ge(a)?a._data:a,g=ge(a)?a._datatype:void 0,p=v(o).length===2,m=v(a).length===2,d=n,E=u;if(w&&g&&w===g&&typeof w=="string"){var A=w;d=r.find(n,[A,A]),E=r.find(u,[A,A])}if(!p&&!m){for(var F=E(t(D[0]),c[0]),C=1;C<f;C++)F=d(F,E(t(D[C]),c[C]));return F}if(!p&&m){for(var _=E(t(D[0]),c[0][0]),M=1;M<f;M++)_=d(_,E(t(D[M]),c[M][0]));return _}if(p&&!m){for(var b=E(t(D[0][0]),c[0]),N=1;N<f;N++)b=d(b,E(t(D[N][0]),c[N]));return b}if(p&&m){for(var S=E(t(D[0][0]),c[0][0]),L=1;L<f;L++)S=d(S,E(t(D[L][0]),c[L][0]));return S}}function h(o,a){s(o,a);for(var f=o._index,D=o._values,w=a._index,c=a._values,g=0,p=n,m=u,d=0,E=0;d<f.length&&E<w.length;){var A=f[d],F=w[E];if(A<F){d++;continue}if(A>F){E++;continue}A===F&&(g=p(g,m(D[d],c[E])),d++,E++)}return g}function v(o){return ge(o)?o.size():i(o)}}),an="det",of=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],sf=G(an,of,e=>{var{typed:r,matrix:n,subtractScalar:u,multiply:t,divideScalar:i,isZero:s,unaryMinus:l}=e;return r(an,{any:function(o){return he(o)},"Array | Matrix":function(o){var a;switch(ge(o)?a=o.size():Array.isArray(o)?(o=n(o),a=o.size()):a=[],a.length){case 0:return he(o);case 1:if(a[0]===1)return he(o.valueOf()[0]);if(a[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+de(a)+")");case 2:{var f=a[0],D=a[1];if(f===D)return h(o.clone().valueOf(),f);if(D===0)return 1;throw new RangeError("Matrix must be square (size: "+de(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+de(a)+")")}}});function h(v,o,a){if(o===1)return he(v[0][0]);if(o===2)return u(t(v[0][0],v[1][1]),t(v[1][0],v[0][1]));for(var f=!1,D=new Array(o).fill(0).map((C,_)=>_),w=0;w<o;w++){var c=D[w];if(s(v[c][w])){var g=void 0;for(g=w+1;g<o;g++)if(!s(v[D[g]][w])){c=D[g],D[g]=D[w],D[w]=c,f=!f;break}if(g===o)return v[c][w]}for(var p=v[c][w],m=w===0?1:v[D[w-1]][w-1],d=w+1;d<o;d++)for(var E=D[d],A=w+1;A<o;A++)v[E][A]=i(u(t(v[E][A],p),t(v[E][w],v[c][A])),m)}var F=v[D[o-1]][o-1];return f?l(F):F}}),on="inv",ff=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],cf=G(on,ff,e=>{var{typed:r,matrix:n,divideScalar:u,addScalar:t,multiply:i,unaryMinus:s,det:l,identity:h,abs:v}=e;return r(on,{"Array | Matrix":function(f){var D=ge(f)?f.size():Ie(f);switch(D.length){case 1:if(D[0]===1)return ge(f)?n([u(1,f.valueOf()[0])]):[u(1,f[0])];throw new RangeError("Matrix must be square (size: "+de(D)+")");case 2:{var w=D[0],c=D[1];if(w===c)return ge(f)?n(o(f.valueOf(),w,c),f.storage()):o(f,w,c);throw new RangeError("Matrix must be square (size: "+de(D)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+de(D)+")")}},any:function(f){return u(1,f)}});function o(a,f,D){var w,c,g,p,m;if(f===1){if(p=a[0][0],p===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,p)]]}else if(f===2){var d=l(a);if(d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(a[1][1],d),u(s(a[0][1]),d)],[u(s(a[1][0]),d),u(a[0][0],d)]]}else{var E=a.concat();for(w=0;w<f;w++)E[w]=E[w].concat();for(var A=h(f).valueOf(),F=0;F<D;F++){var C=v(E[F][F]),_=F;for(w=F+1;w<f;)v(E[w][F])>C&&(C=v(E[w][F]),_=w),w++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");w=_,w!==F&&(m=E[F],E[F]=E[w],E[w]=m,m=A[F],A[F]=A[w],A[w]=m);var M=E[F],b=A[F];for(w=0;w<f;w++){var N=E[w],S=A[w];if(w!==F){if(N[F]!==0){for(g=u(s(N[F]),M[F]),c=F;c<D;c++)N[c]=t(N[c],i(g,M[c]));for(c=0;c<D;c++)S[c]=t(S[c],i(g,b[c]))}}else{for(g=M[F],c=F;c<D;c++)N[c]=u(N[c],g);for(c=0;c<D;c++)S[c]=u(S[c],g)}}}return A}}}),lf="divide",hf=["typed","matrix","multiply","equalScalar","divideScalar","inv"],vf=G(lf,hf,e=>{var{typed:r,matrix:n,multiply:u,equalScalar:t,divideScalar:i,inv:s}=e,l=Kr({typed:r,equalScalar:t}),h=Ft({typed:r});return r("divide",gn({"Array | Matrix, Array | Matrix":function(o,a){return u(o,s(a))},"DenseMatrix, any":function(o,a){return h(o,a,i,!1)},"SparseMatrix, any":function(o,a){return l(o,a,i,!1)},"Array, any":function(o,a){return h(n(o),a,i,!1).valueOf()},"any, Array | Matrix":function(o,a){return u(o,s(a))}},i.signatures))}),sn="sum",Df=["typed","config","add","numeric"],pf=G(sn,Df,e=>{var{typed:r,config:n,add:u,numeric:t}=e;return r(sn,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":s,"...":function(h){if(io(h))throw new TypeError("Scalar values expected in function sum");return i(h)}});function i(l){var h;return Wn(l,function(v){try{h=h===void 0?v:u(h,v)}catch(o){throw en(o,"sum",v)}}),h===void 0&&(h=t(0,n.number)),typeof h=="string"&&(h=t(h,n.number)),h}function s(l,h){try{var v=ao(l,h,u);return v}catch(o){throw en(o,"sum")}}}),jr=Va({config:ir}),iu=Ya({}),au=Qa({}),Et=eo({}),Ar=no({Matrix:Et}),te=Wi({BigNumber:jr,Complex:iu,DenseMatrix:Ar,Fraction:au}),df=$o({typed:te}),kr=Ro({typed:te}),gf=No({BigNumber:jr,typed:te}),mf=Is({typed:te}),sr=go({config:ir,typed:te}),wf=so({typed:te}),Af=lo({typed:te}),yt=ms({typed:te}),Ff=_o({typed:te}),Ct=Ao({Matrix:Et,equalScalar:sr,typed:te}),ou=Lo({typed:te}),Vr=ys({Complex:iu,config:ir,typed:te}),_t=Io({typed:te}),Ef=xo({Fraction:au,typed:te}),$e=zo({DenseMatrix:Ar,Matrix:Et,SparseMatrix:Ct,typed:te}),su=Qs({bignumber:gf,fraction:Ef,number:Ff}),yf=Hs({matrix:$e,config:ir,typed:te}),fn=Ws({matrix:$e,typed:te}),Mr=Gs({BigNumber:jr,config:ir,matrix:$e,typed:te}),Fr=$s({isInteger:wf,matrix:$e,typed:te}),et=ks({numeric:su,typed:te}),cn=rf({DenseMatrix:Ar,concat:Fr,divideScalar:et,equalScalar:sr,matrix:$e,typed:te}),Cf=Rs({BigNumber:jr,DenseMatrix:Ar,SparseMatrix:Ct,config:ir,matrix:$e,typed:te}),He=_s({DenseMatrix:Ar,concat:Fr,equalScalar:sr,matrix:$e,subtractScalar:ou,typed:te,unaryMinus:_t}),Qe=nf({DenseMatrix:Ar,SparseMatrix:Ct,addScalar:kr,concat:Fr,equalScalar:sr,matrix:$e,typed:te}),_f=af({addScalar:kr,conj:mf,multiplyScalar:yt,size:yf,typed:te}),Ne=As({addScalar:kr,dot:_f,equalScalar:sr,matrix:$e,multiplyScalar:yt,typed:te}),mr=pf({add:Qe,config:ir,numeric:su,typed:te}),Bf=sf({divideScalar:et,isZero:Af,matrix:$e,multiply:Ne,subtractScalar:ou,typed:te,unaryMinus:_t}),wr=bs({concat:Fr,equalScalar:sr,matrix:$e,multiplyScalar:yt,typed:te}),fu=cf({abs:df,addScalar:kr,det:Bf,divideScalar:et,identity:Cf,matrix:$e,multiply:Ne,typed:te,unaryMinus:_t}),Mf=vf({divideScalar:et,equalScalar:sr,inv:fu,matrix:$e,multiply:Ne,typed:te});function Hr(e){return Mf(e,Vr(mr(wr(e,e))))}function ln(e,r){return He(Ne(e[0],r[1]),Ne(e[1],r[0]))}function re(e,r){return[e[2*r],e[2*r+1]]}function ke(e,r,n){e._data[2*n]=r[0],e._data[2*n+1]=r[1]}function vt(e,r,n){this.p1=e,this.p2=r,this.oneway=n}function Dt(e,r,n){this.p1=e,this.p2=r,this.p3=n}function pt(e,r,n,u){this.reference=e,this.slide=r,this.base=n,this.oneway=u}function dt(e,r,n){this.p=e,this.n=Hr(r),this.oneway=n}function Nf(e,r,n,u){this.forces=Array(r.length).fill([0,-1]).flat(),this.constraints=e,this.masses=r.flatMap(t=>[t,t]),this.positions=n,this.velocities=u}function Sf(e,r,n,u,t){let i=[],s=[],l=[];for(var h of e)i.push(h.mass),s.push(h.x),s.push(h.y);for(var v of r.rod)l.push(new vt(v.p1,v.p2,v.oneway));for(var o of r.slider)l.push(new dt(o.p,[o.normal.x,o.normal.y],o.oneway));for(var a of r.colinear)l.push(new pt(a.reference,a.slider,a.base,a.oneway));for(var f of r.rope)l.push(new Dt(f.p1,f.p2,f.p3));console.log(l);var D=new Nf(l,i,s,Mr(s.length));D.terminate=t;let w=Fr(D.positions,D.velocities);return bf(D,w,n,u)}function bf(e,r,n,u){for(var t=r,i=0,s=n,l=[],h=!1;i<u&&!h;){i+=s;var[v,f]=xr(e,t),[o,f]=xr(e,Qe(t,Ne(s/2,v))),[a,f]=xr(e,Qe(t,Ne(s/2,o))),[D,h]=xr(e,Qe(t,Ne(s,a)));t=Qe(t,Ne(s/6,Qe(v,Qe(Ne(2,o),Qe(Ne(2,a),D))))),l.push(t)}return l}function xf(e){var r=e.constraints.map(l=>{if(l instanceof vt)return Tf(l,e);if(l instanceof dt)return zf(l,e);if(l instanceof pt)return qf(l,e);if(l instanceof Dt)return If(l,e)}),n=cn(r,[e.masses]);n=Ne(n,fn(r));var u=e.constraints.map(l=>{if(l instanceof vt)return Of(l,e);if(l instanceof dt)return $f(l,e);if(l instanceof pt)return Rf(l,e);if(l instanceof Dt)return Pf(l,e)});let t=Ne(fu(n),u),i=He(cn(Ne(fn(t),r),e.masses),e.forces);for(var s=0;s<t.length;s++)if(t[s]>0&&e.constraints[s].oneway===!0){e.constraints.splice(s,1);break}return[i,!1]}function xr(e,r){e.positions=r._data.slice(0,e.positions.length),e.velocities=r._data.slice(e.positions.length,r.length);let[n,u]=xf(e);if(e.terminate(r)){for(var t=0;t<e.constraints.length;t++)if(e.constraints[t].p1===3||e.constraints[t].p2===3||e.constraints[t].p3===3){e.constraints.splice(t,1);break}}return[Fr(e.velocities,n),!1]}function Tf(e,r){let n=Hr(He(re(r.positions,e.p1),re(r.positions,e.p2))),u=Mr(r.positions.length);return ke(u,n,e.p2),ke(u,Ne(-1,n),e.p1),u}function zf(e,r){let n=Mr(r.positions.length);return ke(n,e.n,e.p),n}function Of(e,r){let n=He(re(r.positions,e.p1),re(r.positions,e.p2)),u=He(re(r.velocities,e.p1),re(r.velocities,e.p2)),t=Vr(mr(wr(n,n)));return mr(wr(u,u))/t}function If(e,r){let n=Hr(He(re(r.positions,e.p1),re(r.positions,e.p2))),u=Hr(He(re(r.positions,e.p2),re(r.positions,e.p3))),t=Mr(r.positions.length);return ke(t,Ne(-1,n),e.p1),ke(t,Qe(n,Ne(-1,u)),e.p2),ke(t,u,e.p3),t}function Pf(e,r){let n=He(re(r.positions,e.p1),re(r.positions,e.p2)),u=He(re(r.velocities,e.p1),re(r.velocities,e.p2)),t=Vr(mr(wr(n,n))),i=He(re(r.positions,e.p2),re(r.positions,e.p3)),s=He(re(r.velocities,e.p2),re(r.velocities,e.p3)),l=Vr(mr(wr(i,i)));return Math.pow(ln(n,u),2)/(t*t*t)+Math.pow(ln(i,s),2)/(l*l*l)}function $f(e,r){return mr(wr(re(r.forces,e.p),e.n))}function qf(e,r){var[n,u]=re(r.positions,e.slide);re(r.velocities,e.slide);var[t,i]=re(r.positions,e.reference);re(r.velocities,e.reference);var[s,l]=re(r.positions,e.base);re(r.velocities,e.base),n=n-s,u=u-l,t=t-s,i=i-l;var h=Math.sqrt(t*t+i*i),v=h*h*h,o=-i/h,a=t/h,f=(n*t*i+u*i*i)/v,D=-(n*t*t+t*u*i)/v,w=-o-f,c=-a-D;let g=Mr(r.positions.length);return ke(g,[o,a],e.slide),ke(g,[f,D],e.reference),ke(g,[w,c],e.base),g}function Rf(e,r){var[n,u]=re(r.positions,e.slide),[t,i]=re(r.velocities,e.slide),[s,l]=re(r.positions,e.reference),[h,v]=re(r.velocities,e.reference),[o,a]=re(r.positions,e.base),[f,D]=re(r.velocities,e.base);n=n-o,u=u-a,t=t-f,i=i-D,s=s-o,l=l-a,h=h-f,v=v-D;var w=Math.sqrt(s*s+l*l),c=(2*h*n*s*s-2*t*s*s*s-v*s*s*u+3*v*n*s*l-2*i*s*s*l+3*h*s*u*l-h*n*l*l-2*t*s*l*l+2*v*u*l*l-2*i*l*l*l)*(v*s-h*l)/(w*w*w*w*w);return-c}window.simulate=Sf;
